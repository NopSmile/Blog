<!DOCTYPE html>
<html>
  <head>
      <meta charset="utf-8" />
      <title>shell</title>
      <style>.markdown-preview:not([data-use-github-style]) { padding: 2em; font-size: 1.2em; color: rgb(197, 200, 198); background-color: rgb(29, 31, 33); overflow: auto; }
.markdown-preview:not([data-use-github-style]) > :first-child { margin-top: 0px; }
.markdown-preview:not([data-use-github-style]) h1, .markdown-preview:not([data-use-github-style]) h2, .markdown-preview:not([data-use-github-style]) h3, .markdown-preview:not([data-use-github-style]) h4, .markdown-preview:not([data-use-github-style]) h5, .markdown-preview:not([data-use-github-style]) h6 { line-height: 1.2; margin-top: 1.5em; margin-bottom: 0.5em; color: rgb(255, 255, 255); }
.markdown-preview:not([data-use-github-style]) h1 { font-size: 2.4em; font-weight: 300; }
.markdown-preview:not([data-use-github-style]) h2 { font-size: 1.8em; font-weight: 400; }
.markdown-preview:not([data-use-github-style]) h3 { font-size: 1.5em; font-weight: 500; }
.markdown-preview:not([data-use-github-style]) h4 { font-size: 1.2em; font-weight: 600; }
.markdown-preview:not([data-use-github-style]) h5 { font-size: 1.1em; font-weight: 600; }
.markdown-preview:not([data-use-github-style]) h6 { font-size: 1em; font-weight: 600; }
.markdown-preview:not([data-use-github-style]) strong { color: rgb(255, 255, 255); }
.markdown-preview:not([data-use-github-style]) del { color: rgb(155, 160, 157); }
.markdown-preview:not([data-use-github-style]) a, .markdown-preview:not([data-use-github-style]) a code { color: rgb(255, 255, 255); }
.markdown-preview:not([data-use-github-style]) img { max-width: 100%; }
.markdown-preview:not([data-use-github-style]) > p { margin-top: 0px; margin-bottom: 1.5em; }
.markdown-preview:not([data-use-github-style]) > ul, .markdown-preview:not([data-use-github-style]) > ol { margin-bottom: 1.5em; }
.markdown-preview:not([data-use-github-style]) blockquote { margin: 1.5em 0px; font-size: inherit; color: rgb(155, 160, 157); border-color: rgb(67, 72, 76); border-width: 4px; }
.markdown-preview:not([data-use-github-style]) hr { margin: 3em 0px; border-top: 2px dashed rgb(67, 72, 76); background: none; }
.markdown-preview:not([data-use-github-style]) table { margin: 1.5em 0px; }
.markdown-preview:not([data-use-github-style]) th { color: rgb(255, 255, 255); }
.markdown-preview:not([data-use-github-style]) th, .markdown-preview:not([data-use-github-style]) td { padding: 0.66em 1em; border: 1px solid rgb(67, 72, 76); }
.markdown-preview:not([data-use-github-style]) code { color: rgb(255, 255, 255); background-color: rgb(48, 51, 55); }
.markdown-preview:not([data-use-github-style]) pre.editor-colors { margin: 1.5em 0px; padding: 1em; font-size: 0.92em; border-radius: 3px; background-color: rgb(39, 41, 44); }
.markdown-preview:not([data-use-github-style]) kbd { color: rgb(255, 255, 255); border-width: 1px 1px 2px; border-style: solid; border-color: rgb(67, 72, 76) rgb(67, 72, 76) rgb(53, 57, 60); border-image: initial; background-color: rgb(48, 51, 55); }
.markdown-preview[data-use-github-style] { font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif; line-height: 1.6; word-wrap: break-word; padding: 30px; font-size: 16px; color: rgb(51, 51, 51); background-color: rgb(255, 255, 255); overflow: scroll; }
.markdown-preview[data-use-github-style] > :first-child { margin-top: 0px !important; }
.markdown-preview[data-use-github-style] > :last-child { margin-bottom: 0px !important; }
.markdown-preview[data-use-github-style] a:not([href]) { color: inherit; text-decoration: none; }
.markdown-preview[data-use-github-style] .absent { color: rgb(204, 0, 0); }
.markdown-preview[data-use-github-style] .anchor { position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; }
.markdown-preview[data-use-github-style] .anchor:focus { outline: none; }
.markdown-preview[data-use-github-style] h1, .markdown-preview[data-use-github-style] h2, .markdown-preview[data-use-github-style] h3, .markdown-preview[data-use-github-style] h4, .markdown-preview[data-use-github-style] h5, .markdown-preview[data-use-github-style] h6 { position: relative; margin-top: 1em; margin-bottom: 16px; font-weight: bold; line-height: 1.4; }
.markdown-preview[data-use-github-style] h1 .octicon-link, .markdown-preview[data-use-github-style] h2 .octicon-link, .markdown-preview[data-use-github-style] h3 .octicon-link, .markdown-preview[data-use-github-style] h4 .octicon-link, .markdown-preview[data-use-github-style] h5 .octicon-link, .markdown-preview[data-use-github-style] h6 .octicon-link { display: none; color: rgb(0, 0, 0); vertical-align: middle; }
.markdown-preview[data-use-github-style] h1:hover .anchor, .markdown-preview[data-use-github-style] h2:hover .anchor, .markdown-preview[data-use-github-style] h3:hover .anchor, .markdown-preview[data-use-github-style] h4:hover .anchor, .markdown-preview[data-use-github-style] h5:hover .anchor, .markdown-preview[data-use-github-style] h6:hover .anchor { padding-left: 8px; margin-left: -30px; text-decoration: none; }
.markdown-preview[data-use-github-style] h1:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h2:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h3:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h4:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h5:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h6:hover .anchor .octicon-link { display: inline-block; }
.markdown-preview[data-use-github-style] h1 tt, .markdown-preview[data-use-github-style] h2 tt, .markdown-preview[data-use-github-style] h3 tt, .markdown-preview[data-use-github-style] h4 tt, .markdown-preview[data-use-github-style] h5 tt, .markdown-preview[data-use-github-style] h6 tt, .markdown-preview[data-use-github-style] h1 code, .markdown-preview[data-use-github-style] h2 code, .markdown-preview[data-use-github-style] h3 code, .markdown-preview[data-use-github-style] h4 code, .markdown-preview[data-use-github-style] h5 code, .markdown-preview[data-use-github-style] h6 code { font-size: inherit; }
.markdown-preview[data-use-github-style] h1 { padding-bottom: 0.3em; font-size: 2.25em; line-height: 1.2; border-bottom: 1px solid rgb(238, 238, 238); }
.markdown-preview[data-use-github-style] h1 .anchor { line-height: 1; }
.markdown-preview[data-use-github-style] h2 { padding-bottom: 0.3em; font-size: 1.75em; line-height: 1.225; border-bottom: 1px solid rgb(238, 238, 238); }
.markdown-preview[data-use-github-style] h2 .anchor { line-height: 1; }
.markdown-preview[data-use-github-style] h3 { font-size: 1.5em; line-height: 1.43; }
.markdown-preview[data-use-github-style] h3 .anchor { line-height: 1.2; }
.markdown-preview[data-use-github-style] h4 { font-size: 1.25em; }
.markdown-preview[data-use-github-style] h4 .anchor { line-height: 1.2; }
.markdown-preview[data-use-github-style] h5 { font-size: 1em; }
.markdown-preview[data-use-github-style] h5 .anchor { line-height: 1.1; }
.markdown-preview[data-use-github-style] h6 { font-size: 1em; color: rgb(119, 119, 119); }
.markdown-preview[data-use-github-style] h6 .anchor { line-height: 1.1; }
.markdown-preview[data-use-github-style] p, .markdown-preview[data-use-github-style] blockquote, .markdown-preview[data-use-github-style] ul, .markdown-preview[data-use-github-style] ol, .markdown-preview[data-use-github-style] dl, .markdown-preview[data-use-github-style] table, .markdown-preview[data-use-github-style] pre { margin-top: 0px; margin-bottom: 16px; }
.markdown-preview[data-use-github-style] hr { height: 4px; padding: 0px; margin: 16px 0px; background-color: rgb(231, 231, 231); border: 0px none; }
.markdown-preview[data-use-github-style] ul, .markdown-preview[data-use-github-style] ol { padding-left: 2em; }
.markdown-preview[data-use-github-style] ul.no-list, .markdown-preview[data-use-github-style] ol.no-list { padding: 0px; list-style-type: none; }
.markdown-preview[data-use-github-style] ul ul, .markdown-preview[data-use-github-style] ul ol, .markdown-preview[data-use-github-style] ol ol, .markdown-preview[data-use-github-style] ol ul { margin-top: 0px; margin-bottom: 0px; }
.markdown-preview[data-use-github-style] li > p { margin-top: 16px; }
.markdown-preview[data-use-github-style] dl { padding: 0px; }
.markdown-preview[data-use-github-style] dl dt { padding: 0px; margin-top: 16px; font-size: 1em; font-style: italic; font-weight: bold; }
.markdown-preview[data-use-github-style] dl dd { padding: 0px 16px; margin-bottom: 16px; }
.markdown-preview[data-use-github-style] blockquote { padding: 0px 15px; color: rgb(119, 119, 119); border-left: 4px solid rgb(221, 221, 221); }
.markdown-preview[data-use-github-style] blockquote > :first-child { margin-top: 0px; }
.markdown-preview[data-use-github-style] blockquote > :last-child { margin-bottom: 0px; }
.markdown-preview[data-use-github-style] table { display: block; width: 100%; overflow: auto; word-break: keep-all; }
.markdown-preview[data-use-github-style] table th { font-weight: bold; }
.markdown-preview[data-use-github-style] table th, .markdown-preview[data-use-github-style] table td { padding: 6px 13px; border: 1px solid rgb(221, 221, 221); }
.markdown-preview[data-use-github-style] table tr { background-color: rgb(255, 255, 255); border-top: 1px solid rgb(204, 204, 204); }
.markdown-preview[data-use-github-style] table tr:nth-child(2n) { background-color: rgb(248, 248, 248); }
.markdown-preview[data-use-github-style] img { max-width: 100%; box-sizing: border-box; }
.markdown-preview[data-use-github-style] .emoji { max-width: none; }
.markdown-preview[data-use-github-style] span.frame { display: block; overflow: hidden; }
.markdown-preview[data-use-github-style] span.frame > span { display: block; float: left; width: auto; padding: 7px; margin: 13px 0px 0px; overflow: hidden; border: 1px solid rgb(221, 221, 221); }
.markdown-preview[data-use-github-style] span.frame span img { display: block; float: left; }
.markdown-preview[data-use-github-style] span.frame span span { display: block; padding: 5px 0px 0px; clear: both; color: rgb(51, 51, 51); }
.markdown-preview[data-use-github-style] span.align-center { display: block; overflow: hidden; clear: both; }
.markdown-preview[data-use-github-style] span.align-center > span { display: block; margin: 13px auto 0px; overflow: hidden; text-align: center; }
.markdown-preview[data-use-github-style] span.align-center span img { margin: 0px auto; text-align: center; }
.markdown-preview[data-use-github-style] span.align-right { display: block; overflow: hidden; clear: both; }
.markdown-preview[data-use-github-style] span.align-right > span { display: block; margin: 13px 0px 0px; overflow: hidden; text-align: right; }
.markdown-preview[data-use-github-style] span.align-right span img { margin: 0px; text-align: right; }
.markdown-preview[data-use-github-style] span.float-left { display: block; float: left; margin-right: 13px; overflow: hidden; }
.markdown-preview[data-use-github-style] span.float-left span { margin: 13px 0px 0px; }
.markdown-preview[data-use-github-style] span.float-right { display: block; float: right; margin-left: 13px; overflow: hidden; }
.markdown-preview[data-use-github-style] span.float-right > span { display: block; margin: 13px auto 0px; overflow: hidden; text-align: right; }
.markdown-preview[data-use-github-style] code, .markdown-preview[data-use-github-style] tt { padding: 0.2em 0px; margin: 0px; font-size: 85%; background-color: rgba(0, 0, 0, 0.04); border-radius: 3px; }
.markdown-preview[data-use-github-style] code::before, .markdown-preview[data-use-github-style] tt::before, .markdown-preview[data-use-github-style] code::after, .markdown-preview[data-use-github-style] tt::after { letter-spacing: -0.2em; content: " "; }
.markdown-preview[data-use-github-style] code br, .markdown-preview[data-use-github-style] tt br { display: none; }
.markdown-preview[data-use-github-style] del code { text-decoration: inherit; }
.markdown-preview[data-use-github-style] pre > code { padding: 0px; margin: 0px; font-size: 100%; word-break: normal; white-space: pre; background: transparent; border: 0px; }
.markdown-preview[data-use-github-style] .highlight { margin-bottom: 16px; }
.markdown-preview[data-use-github-style] .highlight pre, .markdown-preview[data-use-github-style] pre { padding: 16px; overflow: auto; font-size: 85%; line-height: 1.45; background-color: rgb(247, 247, 247); border-radius: 3px; }
.markdown-preview[data-use-github-style] .highlight pre { margin-bottom: 0px; word-break: normal; }
.markdown-preview[data-use-github-style] pre { word-wrap: normal; }
.markdown-preview[data-use-github-style] pre code, .markdown-preview[data-use-github-style] pre tt { display: inline; max-width: initial; padding: 0px; margin: 0px; overflow: initial; line-height: inherit; word-wrap: normal; background-color: transparent; border: 0px; }
.markdown-preview[data-use-github-style] pre code::before, .markdown-preview[data-use-github-style] pre tt::before, .markdown-preview[data-use-github-style] pre code::after, .markdown-preview[data-use-github-style] pre tt::after { content: normal; }
.markdown-preview[data-use-github-style] kbd { display: inline-block; padding: 3px 5px; font-size: 11px; line-height: 10px; color: rgb(85, 85, 85); vertical-align: middle; background-color: rgb(252, 252, 252); border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204) rgb(204, 204, 204) rgb(187, 187, 187); border-image: initial; border-radius: 3px; box-shadow: rgb(187, 187, 187) 0px -1px 0px inset; }
.markdown-preview[data-use-github-style] a { color: rgb(51, 122, 183); }
.markdown-preview[data-use-github-style] code { color: inherit; }
.markdown-preview[data-use-github-style] pre.editor-colors { padding: 0.8em 1em; margin-bottom: 1em; font-size: 0.85em; border-radius: 4px; overflow: auto; }
.scrollbars-visible-always .markdown-preview pre.editor-colors .vertical-scrollbar, .scrollbars-visible-always .markdown-preview pre.editor-colors .horizontal-scrollbar { visibility: hidden; }
.scrollbars-visible-always .markdown-preview pre.editor-colors:hover .vertical-scrollbar, .scrollbars-visible-always .markdown-preview pre.editor-colors:hover .horizontal-scrollbar { visibility: visible; }
.markdown-preview .task-list-item-checkbox { position: absolute; margin: 0.25em 0px 0px -1.4em; }
.markdown-preview:not([data-use-github-style]) { padding: 2em; font-size: 1.2em; color: rgb(197, 200, 198); background-color: rgb(29, 31, 33); overflow: auto; }
.markdown-preview:not([data-use-github-style]) > :first-child { margin-top: 0px; }
.markdown-preview:not([data-use-github-style]) h1, .markdown-preview:not([data-use-github-style]) h2, .markdown-preview:not([data-use-github-style]) h3, .markdown-preview:not([data-use-github-style]) h4, .markdown-preview:not([data-use-github-style]) h5, .markdown-preview:not([data-use-github-style]) h6 { line-height: 1.2; margin-top: 1.5em; margin-bottom: 0.5em; color: rgb(255, 255, 255); }
.markdown-preview:not([data-use-github-style]) h1 { font-size: 2.4em; font-weight: 300; }
.markdown-preview:not([data-use-github-style]) h2 { font-size: 1.8em; font-weight: 400; }
.markdown-preview:not([data-use-github-style]) h3 { font-size: 1.5em; font-weight: 500; }
.markdown-preview:not([data-use-github-style]) h4 { font-size: 1.2em; font-weight: 600; }
.markdown-preview:not([data-use-github-style]) h5 { font-size: 1.1em; font-weight: 600; }
.markdown-preview:not([data-use-github-style]) h6 { font-size: 1em; font-weight: 600; }
.markdown-preview:not([data-use-github-style]) strong { color: rgb(255, 255, 255); }
.markdown-preview:not([data-use-github-style]) del { color: rgb(155, 160, 157); }
.markdown-preview:not([data-use-github-style]) a, .markdown-preview:not([data-use-github-style]) a code { color: rgb(255, 255, 255); }
.markdown-preview:not([data-use-github-style]) img { max-width: 100%; }
.markdown-preview:not([data-use-github-style]) > p { margin-top: 0px; margin-bottom: 1.5em; }
.markdown-preview:not([data-use-github-style]) > ul, .markdown-preview:not([data-use-github-style]) > ol { margin-bottom: 1.5em; }
.markdown-preview:not([data-use-github-style]) blockquote { margin: 1.5em 0px; font-size: inherit; color: rgb(155, 160, 157); border-color: rgb(67, 72, 76); border-width: 4px; }
.markdown-preview:not([data-use-github-style]) hr { margin: 3em 0px; border-top: 2px dashed rgb(67, 72, 76); background: none; }
.markdown-preview:not([data-use-github-style]) table { margin: 1.5em 0px; }
.markdown-preview:not([data-use-github-style]) th { color: rgb(255, 255, 255); }
.markdown-preview:not([data-use-github-style]) th, .markdown-preview:not([data-use-github-style]) td { padding: 0.66em 1em; border: 1px solid rgb(67, 72, 76); }
.markdown-preview:not([data-use-github-style]) pre, .markdown-preview:not([data-use-github-style]) code { color: rgb(255, 255, 255); background-color: rgb(48, 51, 55); }
.markdown-preview:not([data-use-github-style]) pre, .markdown-preview:not([data-use-github-style]) pre.editor-colors { margin: 1.5em 0px; padding: 1em; font-size: 0.92em; border-radius: 3px; background-color: rgb(39, 41, 44); }
.markdown-preview:not([data-use-github-style]) kbd { color: rgb(255, 255, 255); border-width: 1px 1px 2px; border-style: solid; border-color: rgb(67, 72, 76) rgb(67, 72, 76) rgb(53, 57, 60); border-image: initial; background-color: rgb(48, 51, 55); }
.markdown-preview[data-use-github-style] { font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif; line-height: 1.6; word-wrap: break-word; padding: 30px; font-size: 16px; color: rgb(51, 51, 51); background-color: rgb(255, 255, 255); overflow: scroll; }
.markdown-preview[data-use-github-style] > :first-child { margin-top: 0px !important; }
.markdown-preview[data-use-github-style] > :last-child { margin-bottom: 0px !important; }
.markdown-preview[data-use-github-style] a:not([href]) { color: inherit; text-decoration: none; }
.markdown-preview[data-use-github-style] .absent { color: rgb(204, 0, 0); }
.markdown-preview[data-use-github-style] .anchor { position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; }
.markdown-preview[data-use-github-style] .anchor:focus { outline: none; }
.markdown-preview[data-use-github-style] h1, .markdown-preview[data-use-github-style] h2, .markdown-preview[data-use-github-style] h3, .markdown-preview[data-use-github-style] h4, .markdown-preview[data-use-github-style] h5, .markdown-preview[data-use-github-style] h6 { position: relative; margin-top: 1em; margin-bottom: 16px; font-weight: bold; line-height: 1.4; }
.markdown-preview[data-use-github-style] h1 .octicon-link, .markdown-preview[data-use-github-style] h2 .octicon-link, .markdown-preview[data-use-github-style] h3 .octicon-link, .markdown-preview[data-use-github-style] h4 .octicon-link, .markdown-preview[data-use-github-style] h5 .octicon-link, .markdown-preview[data-use-github-style] h6 .octicon-link { display: none; color: rgb(0, 0, 0); vertical-align: middle; }
.markdown-preview[data-use-github-style] h1:hover .anchor, .markdown-preview[data-use-github-style] h2:hover .anchor, .markdown-preview[data-use-github-style] h3:hover .anchor, .markdown-preview[data-use-github-style] h4:hover .anchor, .markdown-preview[data-use-github-style] h5:hover .anchor, .markdown-preview[data-use-github-style] h6:hover .anchor { padding-left: 8px; margin-left: -30px; text-decoration: none; }
.markdown-preview[data-use-github-style] h1:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h2:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h3:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h4:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h5:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h6:hover .anchor .octicon-link { display: inline-block; }
.markdown-preview[data-use-github-style] h1 tt, .markdown-preview[data-use-github-style] h2 tt, .markdown-preview[data-use-github-style] h3 tt, .markdown-preview[data-use-github-style] h4 tt, .markdown-preview[data-use-github-style] h5 tt, .markdown-preview[data-use-github-style] h6 tt, .markdown-preview[data-use-github-style] h1 code, .markdown-preview[data-use-github-style] h2 code, .markdown-preview[data-use-github-style] h3 code, .markdown-preview[data-use-github-style] h4 code, .markdown-preview[data-use-github-style] h5 code, .markdown-preview[data-use-github-style] h6 code { font-size: inherit; }
.markdown-preview[data-use-github-style] h1 { padding-bottom: 0.3em; font-size: 2.25em; line-height: 1.2; border-bottom: 1px solid rgb(238, 238, 238); }
.markdown-preview[data-use-github-style] h1 .anchor { line-height: 1; }
.markdown-preview[data-use-github-style] h2 { padding-bottom: 0.3em; font-size: 1.75em; line-height: 1.225; border-bottom: 1px solid rgb(238, 238, 238); }
.markdown-preview[data-use-github-style] h2 .anchor { line-height: 1; }
.markdown-preview[data-use-github-style] h3 { font-size: 1.5em; line-height: 1.43; }
.markdown-preview[data-use-github-style] h3 .anchor { line-height: 1.2; }
.markdown-preview[data-use-github-style] h4 { font-size: 1.25em; }
.markdown-preview[data-use-github-style] h4 .anchor { line-height: 1.2; }
.markdown-preview[data-use-github-style] h5 { font-size: 1em; }
.markdown-preview[data-use-github-style] h5 .anchor { line-height: 1.1; }
.markdown-preview[data-use-github-style] h6 { font-size: 1em; color: rgb(119, 119, 119); }
.markdown-preview[data-use-github-style] h6 .anchor { line-height: 1.1; }
.markdown-preview[data-use-github-style] p, .markdown-preview[data-use-github-style] blockquote, .markdown-preview[data-use-github-style] ul, .markdown-preview[data-use-github-style] ol, .markdown-preview[data-use-github-style] dl, .markdown-preview[data-use-github-style] table, .markdown-preview[data-use-github-style] pre { margin-top: 0px; margin-bottom: 16px; }
.markdown-preview[data-use-github-style] hr { height: 4px; padding: 0px; margin: 16px 0px; background-color: rgb(231, 231, 231); border: 0px none; }
.markdown-preview[data-use-github-style] ul, .markdown-preview[data-use-github-style] ol { padding-left: 2em; }
.markdown-preview[data-use-github-style] ul.no-list, .markdown-preview[data-use-github-style] ol.no-list { padding: 0px; list-style-type: none; }
.markdown-preview[data-use-github-style] ul ul, .markdown-preview[data-use-github-style] ul ol, .markdown-preview[data-use-github-style] ol ol, .markdown-preview[data-use-github-style] ol ul { margin-top: 0px; margin-bottom: 0px; }
.markdown-preview[data-use-github-style] li > p { margin-top: 16px; }
.markdown-preview[data-use-github-style] dl { padding: 0px; }
.markdown-preview[data-use-github-style] dl dt { padding: 0px; margin-top: 16px; font-size: 1em; font-style: italic; font-weight: bold; }
.markdown-preview[data-use-github-style] dl dd { padding: 0px 16px; margin-bottom: 16px; }
.markdown-preview[data-use-github-style] blockquote { padding: 0px 15px; color: rgb(119, 119, 119); border-left: 4px solid rgb(221, 221, 221); }
.markdown-preview[data-use-github-style] blockquote > :first-child { margin-top: 0px; }
.markdown-preview[data-use-github-style] blockquote > :last-child { margin-bottom: 0px; }
.markdown-preview[data-use-github-style] table { display: block; width: 100%; overflow: auto; word-break: keep-all; }
.markdown-preview[data-use-github-style] table th { font-weight: bold; }
.markdown-preview[data-use-github-style] table th, .markdown-preview[data-use-github-style] table td { padding: 6px 13px; border: 1px solid rgb(221, 221, 221); }
.markdown-preview[data-use-github-style] table tr { background-color: rgb(255, 255, 255); border-top: 1px solid rgb(204, 204, 204); }
.markdown-preview[data-use-github-style] table tr:nth-child(2n) { background-color: rgb(248, 248, 248); }
.markdown-preview[data-use-github-style] img { max-width: 100%; box-sizing: border-box; }
.markdown-preview[data-use-github-style] .emoji { max-width: none; }
.markdown-preview[data-use-github-style] span.frame { display: block; overflow: hidden; }
.markdown-preview[data-use-github-style] span.frame > span { display: block; float: left; width: auto; padding: 7px; margin: 13px 0px 0px; overflow: hidden; border: 1px solid rgb(221, 221, 221); }
.markdown-preview[data-use-github-style] span.frame span img { display: block; float: left; }
.markdown-preview[data-use-github-style] span.frame span span { display: block; padding: 5px 0px 0px; clear: both; color: rgb(51, 51, 51); }
.markdown-preview[data-use-github-style] span.align-center { display: block; overflow: hidden; clear: both; }
.markdown-preview[data-use-github-style] span.align-center > span { display: block; margin: 13px auto 0px; overflow: hidden; text-align: center; }
.markdown-preview[data-use-github-style] span.align-center span img { margin: 0px auto; text-align: center; }
.markdown-preview[data-use-github-style] span.align-right { display: block; overflow: hidden; clear: both; }
.markdown-preview[data-use-github-style] span.align-right > span { display: block; margin: 13px 0px 0px; overflow: hidden; text-align: right; }
.markdown-preview[data-use-github-style] span.align-right span img { margin: 0px; text-align: right; }
.markdown-preview[data-use-github-style] span.float-left { display: block; float: left; margin-right: 13px; overflow: hidden; }
.markdown-preview[data-use-github-style] span.float-left span { margin: 13px 0px 0px; }
.markdown-preview[data-use-github-style] span.float-right { display: block; float: right; margin-left: 13px; overflow: hidden; }
.markdown-preview[data-use-github-style] span.float-right > span { display: block; margin: 13px auto 0px; overflow: hidden; text-align: right; }
.markdown-preview[data-use-github-style] code, .markdown-preview[data-use-github-style] tt { padding: 0.2em 0px; margin: 0px; font-size: 85%; background-color: rgba(0, 0, 0, 0.04); border-radius: 3px; }
.markdown-preview[data-use-github-style] code::before, .markdown-preview[data-use-github-style] tt::before, .markdown-preview[data-use-github-style] code::after, .markdown-preview[data-use-github-style] tt::after { letter-spacing: -0.2em; content: " "; }
.markdown-preview[data-use-github-style] code br, .markdown-preview[data-use-github-style] tt br { display: none; }
.markdown-preview[data-use-github-style] del code { text-decoration: inherit; }
.markdown-preview[data-use-github-style] pre > code { padding: 0px; margin: 0px; font-size: 100%; word-break: normal; white-space: pre; background: transparent; border: 0px; }
.markdown-preview[data-use-github-style] .highlight { margin-bottom: 16px; }
.markdown-preview[data-use-github-style] .highlight pre, .markdown-preview[data-use-github-style] pre { padding: 16px; overflow: auto; font-size: 85%; line-height: 1.45; background-color: rgb(247, 247, 247); border-radius: 3px; }
.markdown-preview[data-use-github-style] .highlight pre { margin-bottom: 0px; word-break: normal; }
.markdown-preview[data-use-github-style] pre { word-wrap: normal; }
.markdown-preview[data-use-github-style] pre code, .markdown-preview[data-use-github-style] pre tt { display: inline; max-width: initial; padding: 0px; margin: 0px; overflow: initial; line-height: inherit; word-wrap: normal; background-color: transparent; border: 0px; }
.markdown-preview[data-use-github-style] pre code::before, .markdown-preview[data-use-github-style] pre tt::before, .markdown-preview[data-use-github-style] pre code::after, .markdown-preview[data-use-github-style] pre tt::after { content: normal; }
.markdown-preview[data-use-github-style] kbd { display: inline-block; padding: 3px 5px; font-size: 11px; line-height: 10px; color: rgb(85, 85, 85); vertical-align: middle; background-color: rgb(252, 252, 252); border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204) rgb(204, 204, 204) rgb(187, 187, 187); border-image: initial; border-radius: 3px; box-shadow: rgb(187, 187, 187) 0px -1px 0px inset; }
.markdown-preview[data-use-github-style] a { color: rgb(51, 122, 183); }
.markdown-preview[data-use-github-style] pre, .markdown-preview[data-use-github-style] code { color: inherit; }
.markdown-preview[data-use-github-style] pre, .markdown-preview[data-use-github-style] pre.editor-colors { padding: 0.8em 1em; margin-bottom: 1em; font-size: 0.85em; border-radius: 4px; overflow: auto; }
.scrollbars-visible-always .markdown-preview pre.editor-colors .vertical-scrollbar, .scrollbars-visible-always .markdown-preview pre.editor-colors .horizontal-scrollbar { visibility: hidden; }
.scrollbars-visible-always .markdown-preview pre.editor-colors:hover .vertical-scrollbar, .scrollbars-visible-always .markdown-preview pre.editor-colors:hover .horizontal-scrollbar { visibility: visible; }
.markdown-preview del { text-decoration: none; position: relative; }
.markdown-preview del::after { border-bottom: 1px solid black; content: ""; left: 0px; position: absolute; right: 0px; top: 50%; }
.markdown-preview .flash { animation: flash 1s ease-out 1; outline: rgba(255, 0, 0, 0) solid 1px; }
.markdown-preview .flash:not(li) { display: block; }
.bracket-matcher .region {
  border-bottom: 1px dotted lime;
  position: absolute;
}
.line-number.bracket-matcher.bracket-matcher {
  color: #c5c8c6;
  background-color: #373b41;
}

.spell-check-misspelling .region {
  border-bottom: 2px dotted rgba(255, 51, 51, 0.75);
}
.spell-check-corrections {
  width: 25em !important;
}

pre.editor-colors {
  background-color: #1d1f21;
  color: #c5c8c6;
}
pre.editor-colors .wrap-guide {
  background-color: #676a6c;
}
pre.editor-colors .indent-guide {
  color: #676a6c;
}
pre.editor-colors .invisible-character {
  color: #676a6c;
}
pre.editor-colors .gutter {
  background-color: #1d1f21;
  color: #969896;
}
pre.editor-colors .gutter .line-number {
  padding: 0 0.25em 0 0.5em;
  -webkit-font-smoothing: antialiased;
}
pre.editor-colors .gutter .line-number.cursor-line {
  background-color: #373b41;
  color: #c5c8c6;
}
pre.editor-colors .gutter .line-number.cursor-line-no-selection {
  color: #c5c8c6;
}
pre.editor-colors .gutter .line-number.folded,
pre.editor-colors .gutter .line-number:after,
pre.editor-colors .fold-marker:after {
  color: #969896;
}
pre.editor-colors .invisible {
  color: #c5c8c6;
}
pre.editor-colors .cursor {
  color: #ffffff;
}
pre.editor-colors .selection .region {
  background-color: #373b41;
}
pre.editor-colors .bracket-matcher .region {
  border-color: #969896;
}
.syntax--comment {
  color: #969896;
}
.syntax--comment .syntax--markup.syntax--link {
  color: #969896;
}
.syntax--entity.syntax--name.syntax--type {
  color: #f0c674;
}
.syntax--entity.syntax--other.syntax--inherited-class {
  color: #b5bd68;
}
.syntax--keyword {
  color: #b294bb;
}
.syntax--keyword.syntax--control {
  color: #b294bb;
}
.syntax--keyword.syntax--operator {
  color: #c5c8c6;
}
.syntax--keyword.syntax--other.syntax--special-method {
  color: #81a2be;
}
.syntax--keyword.syntax--other.syntax--unit {
  color: #de935f;
}
.syntax--storage {
  color: #b294bb;
}
.syntax--constant {
  color: #de935f;
}
.syntax--constant.syntax--character.syntax--escape {
  color: #8abeb7;
}
.syntax--constant.syntax--numeric {
  color: #de935f;
}
.syntax--constant.syntax--other.syntax--color {
  color: #8abeb7;
}
.syntax--constant.syntax--other.syntax--symbol {
  color: #b5bd68;
}
.syntax--variable {
  color: #cc6666;
}
.syntax--variable.syntax--interpolation {
  color: #a3685a;
}
.syntax--variable.syntax--parameter.syntax--function {
  color: #c5c8c6;
}
.syntax--invalid.syntax--illegal {
  background-color: #cc6666;
  color: #1d1f21;
}
.syntax--string {
  color: #b5bd68;
}
.syntax--string.syntax--regexp {
  color: #8abeb7;
}
.syntax--string.syntax--regexp .syntax--source.syntax--ruby.syntax--embedded {
  color: #f0c674;
}
.syntax--string.syntax--other.syntax--link {
  color: #cc6666;
}
.syntax--punctuation.syntax--definition.syntax--parameters,
.syntax--punctuation.syntax--definition.syntax--array {
  color: #c5c8c6;
}
.syntax--punctuation.syntax--definition.syntax--heading,
.syntax--punctuation.syntax--definition.syntax--identity {
  color: #81a2be;
}
.syntax--punctuation.syntax--definition.syntax--bold {
  color: #f0c674;
  font-weight: bold;
}
.syntax--punctuation.syntax--definition.syntax--italic {
  color: #b294bb;
  font-style: italic;
}
.syntax--punctuation.syntax--section.syntax--embedded {
  color: #a3685a;
}
.syntax--punctuation.syntax--section.syntax--method,
.syntax--punctuation.syntax--section.syntax--class,
.syntax--punctuation.syntax--section.syntax--inner-class {
  color: #c5c8c6;
}
.syntax--support.syntax--class {
  color: #f0c674;
}
.syntax--support.syntax--function {
  color: #8abeb7;
}
.syntax--support.syntax--function.syntax--any-method {
  color: #81a2be;
}
.syntax--entity.syntax--name.syntax--function {
  color: #81a2be;
}
.syntax--entity.syntax--name.syntax--class,
.syntax--entity.syntax--name.syntax--type.syntax--class {
  color: #f0c674;
}
.syntax--entity.syntax--name.syntax--section {
  color: #81a2be;
}
.syntax--entity.syntax--name.syntax--tag {
  color: #cc6666;
}
.syntax--entity.syntax--other.syntax--attribute-name {
  color: #de935f;
}
.syntax--entity.syntax--other.syntax--attribute-name.syntax--id {
  color: #81a2be;
}
.syntax--meta.syntax--class {
  color: #f0c674;
}
.syntax--meta.syntax--class.syntax--body {
  color: #c5c8c6;
}
.syntax--meta.syntax--link {
  color: #de935f;
}
.syntax--meta.syntax--method-call,
.syntax--meta.syntax--method {
  color: #c5c8c6;
}
.syntax--meta.syntax--require {
  color: #81a2be;
}
.syntax--meta.syntax--selector {
  color: #b294bb;
}
.syntax--meta.syntax--separator {
  background-color: #373b41;
  color: #c5c8c6;
}
.syntax--meta.syntax--tag {
  color: #c5c8c6;
}
.syntax--none {
  color: #c5c8c6;
}
.syntax--markup.syntax--bold {
  color: #de935f;
  font-weight: bold;
}
.syntax--markup.syntax--changed {
  color: #b294bb;
}
.syntax--markup.syntax--deleted {
  color: #cc6666;
}
.syntax--markup.syntax--italic {
  color: #b294bb;
  font-style: italic;
}
.syntax--markup.syntax--heading {
  color: #cc6666;
}
.syntax--markup.syntax--heading .syntax--punctuation.syntax--definition.syntax--heading {
  color: #81a2be;
}
.syntax--markup.syntax--link {
  color: #81a2be;
}
.syntax--markup.syntax--inserted {
  color: #b5bd68;
}
.syntax--markup.syntax--quote {
  color: #de935f;
}
.syntax--markup.syntax--raw {
  color: #b5bd68;
}
.syntax--source.syntax--gfm .syntax--markup {
  -webkit-font-smoothing: auto;
}
.syntax--source.syntax--gfm .syntax--link .syntax--entity {
  color: #8abeb7;
}
.syntax--source.syntax--cs .syntax--keyword.syntax--operator {
  color: #b294bb;
}
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--dictionary.syntax--json > .syntax--string.syntax--quoted.syntax--json {
  color: #cc6666;
}
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--dictionary.syntax--json > .syntax--string.syntax--quoted.syntax--json > .syntax--punctuation.syntax--string {
  color: #cc6666;
}
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--dictionary.syntax--json > .syntax--value.syntax--json > .syntax--string.syntax--quoted.syntax--json,
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--array.syntax--json > .syntax--value.syntax--json > .syntax--string.syntax--quoted.syntax--json,
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--dictionary.syntax--json > .syntax--value.syntax--json > .syntax--string.syntax--quoted.syntax--json > .syntax--punctuation,
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--array.syntax--json > .syntax--value.syntax--json > .syntax--string.syntax--quoted.syntax--json > .syntax--punctuation {
  color: #b5bd68;
}
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--dictionary.syntax--json > .syntax--constant.syntax--language.syntax--json,
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--array.syntax--json > .syntax--constant.syntax--language.syntax--json {
  color: #8abeb7;
}
</style>
  </head>
  <body class='markdown-preview'><h1>统计网络连接状态及数目</h1>
<pre class="editor-colors lang-bash"><div class="line"><span class="syntax--source syntax--shell"><span>netstat&nbsp;-n</span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>awk&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>'</span></span><span>/^tcp/&nbsp;{++state[$NF]}&nbsp;END&nbsp;{for(i&nbsp;in&nbsp;state)&nbsp;print&nbsp;i,&nbsp;state[i]}</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>'</span></span></span></span>
</div></pre>
<h1>统计进程打开的文件句柄数目</h1>
<pre class="editor-colors lang-bash"><div class="line"><span class="syntax--source syntax--shell"><span>lsof&nbsp;-p&nbsp;PID</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>lsof&nbsp;-p&nbsp;PID</span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>wc&nbsp;-l</span></span>
</div></pre>
<h1>awk getline: 过滤行、改变奇数偶数行</h1>
<h3>打印出从 1 到 10 之间的偶数</h3>
<pre class="editor-colors lang-bash"><div class="line"><span class="syntax--source syntax--shell"><span>seq&nbsp;10</span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>awk&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>'</span></span><span>{getline;&nbsp;print&nbsp;$0}</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>'</span></span></span></span>
</div></pre>
<h3>打印出从 1 到 10 之前的奇数</h3>
<pre class="editor-colors lang-bash"><div class="line"><span class="syntax--source syntax--shell"><span>seq&nbsp;10</span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>awk&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>'</span></span><span>{print&nbsp;$0;&nbsp;getline}</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>'</span></span></span></span>
</div></pre>
<h3>交换奇数、偶数行</h3>
<pre class="editor-colors lang-bash"><div class="line"><span class="syntax--source syntax--shell"><span>seq&nbsp;10</span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>awk&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>'</span></span><span>{getline&nbsp;tmp;&nbsp;print&nbsp;tmp;&nbsp;print&nbsp;$0}</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>'</span></span></span></span>
</div></pre>
<h1>for 循环的常用写法</h1>
<h3>数值类型</h3>
<pre class="editor-colors lang-bash"><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;i&nbsp;=&nbsp;i*3+1</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>for</span><span class="syntax--string syntax--other syntax--math syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>((</span></span><span>i</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--shell"><span>=</span></span><span class="syntax--constant syntax--numeric syntax--integer syntax--shell"><span>1</span></span><span>;&nbsp;i</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--shell"><span>&lt;=</span></span><span class="syntax--constant syntax--numeric syntax--integer syntax--shell"><span>10</span></span><span>;&nbsp;i</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--shell"><span>++</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>))</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>do</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--interpolated syntax--dollar syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>$(</span></span><span>expr&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>i</span></span><span>&nbsp;</span><span class="syntax--constant syntax--character syntax--escape syntax--shell"><span>\*</span></span><span>3&nbsp;+&nbsp;1</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>)</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>done</span></span></span>
</div></pre>
<pre class="editor-colors lang-bash"><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>for</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--loop syntax--shell"><span>i</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>in</span></span><span>&nbsp;</span><span class="syntax--string syntax--interpolated syntax--dollar syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>$(</span></span><span>seq&nbsp;1&nbsp;10</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>)</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>do</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--interpolated syntax--dollar syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>$(</span></span><span>expr&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>i</span></span><span>&nbsp;</span><span class="syntax--constant syntax--character syntax--escape syntax--shell"><span>\*</span></span><span>&nbsp;3&nbsp;+&nbsp;1</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>)</span></span></span><span class="syntax--keyword syntax--operator syntax--list syntax--shell"><span>;</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>done</span></span></span></span>
</div></pre>
<pre class="editor-colors lang-bash"><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>for</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--loop syntax--shell"><span>i</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>in</span></span><span>&nbsp;{1..10}</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>do</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--interpolated syntax--dollar syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>$(</span></span><span>expr&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>i</span></span><span>&nbsp;</span><span class="syntax--constant syntax--character syntax--escape syntax--shell"><span>\*</span></span><span>&nbsp;3&nbsp;+&nbsp;1</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>)</span></span></span><span class="syntax--keyword syntax--operator syntax--list syntax--shell"><span>;</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>done</span></span></span></span>
</div></pre>
<pre class="editor-colors lang-bash"><div class="line"><span class="syntax--source syntax--shell"><span>awk&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>'</span></span><span>BEGIN&nbsp;{for(i=1;&nbsp;i&lt;=10;&nbsp;i++)&nbsp;print&nbsp;i}</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>'</span></span></span></span>
</div></pre>
<h3>字符串类型</h3>
<pre class="editor-colors lang-bash"><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>for</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--loop syntax--shell"><span>i</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>in</span></span><span>&nbsp;</span><span class="syntax--string syntax--interpolated syntax--backtick syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>`</span></span><span>ls</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>`</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>do</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>i</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>done</span></span></span></span>
</div></pre>
<pre class="editor-colors lang-bash"><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>for</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--loop syntax--shell"><span>i</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>in</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--special syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>*</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>do</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>i</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>done</span></span></span></span>
</div></pre>
<pre class="editor-colors lang-bash"><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>for</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--loop syntax--shell"><span>i</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>in</span></span><span>&nbsp;f1&nbsp;f2&nbsp;f3</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>do</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>i</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>done</span></span></span></span>
</div></pre>
<pre class="editor-colors lang-bash"><div class="line"><span class="syntax--source syntax--shell"><span>list=</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>rootfs&nbsp;usr&nbsp;data</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>for</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--loop syntax--shell"><span>i</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>in</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>list</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>do</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>i</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>done</span></span></span></span>
</div></pre>
<h1>分割、合并大文件</h1>
<pre class="editor-colors lang-bash"><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;按照指定行数分割</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>split&nbsp;-l&nbsp;500&nbsp;large_file.log&nbsp;new_file_prefix</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;按照文件大小分割</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>split&nbsp;-b&nbsp;100m&nbsp;large_file.log&nbsp;new_file_prefix</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;使用&nbsp;cat&nbsp;进行文件合并</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>cat&nbsp;new_file_prefix</span><span class="syntax--keyword syntax--operator syntax--glob syntax--shell"><span>*</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--redirect syntax--shell"><span>&gt;</span></span><span>&nbsp;large_file.log</span></span>
</div></pre>
<h1>检查 IPv4 地址合法性</h1>
<pre class="editor-colors lang-bash"><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--function syntax--shell"><span class="syntax--entity syntax--name syntax--function syntax--shell"><span>CheckIPAddr</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--shell"><span>()</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span class="syntax--punctuation syntax--definition syntax--group syntax--shell"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;IP地址必须为全数字</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--positional syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>1</span></span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>grep&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>^[0-9]\{1,3\}\.\([0-9]\{1,3\}\.\)\{2\}[0-9]\{1,3\}$</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--redirect syntax--shell"><span>&gt;</span></span><span>&nbsp;/dev/null</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>if</span></span><span>&nbsp;</span><span class="syntax--meta syntax--scope syntax--logical-expression syntax--shell"><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>[</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--special syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>?</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--shell"><span>-ne</span></span><span>&nbsp;0&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>]</span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>then</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>return</span></span><span>&nbsp;1</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>fi</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;ipaddr=</span><span class="syntax--variable syntax--other syntax--positional syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>1</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;a=</span><span class="syntax--string syntax--interpolated syntax--backtick syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>`</span></span><span>echo&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>ipaddr</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>&nbsp;awk&nbsp;-F&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>.</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>'</span></span><span>{print&nbsp;$1}</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>'</span></span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>`</span></span></span><span>&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;以"."分隔，取出每个列的值</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;b=</span><span class="syntax--string syntax--interpolated syntax--backtick syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>`</span></span><span>echo&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>ipaddr</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>&nbsp;awk&nbsp;-F&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>.</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>'</span></span><span>{print&nbsp;$2}</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>'</span></span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>`</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;c=</span><span class="syntax--string syntax--interpolated syntax--backtick syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>`</span></span><span>echo&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>ipaddr</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>&nbsp;awk&nbsp;-F&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>.</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>'</span></span><span>{print&nbsp;$3}</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>'</span></span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>`</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;d=</span><span class="syntax--string syntax--interpolated syntax--backtick syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>`</span></span><span>echo&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>ipaddr</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>&nbsp;awk&nbsp;-F&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>.</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>'</span></span><span>{print&nbsp;$4}</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>'</span></span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>`</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>for</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--loop syntax--shell"><span>num</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>in</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>a</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>b</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>c</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>d</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>do</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>if</span></span><span>&nbsp;</span><span class="syntax--meta syntax--scope syntax--logical-expression syntax--shell"><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>[</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>num</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--shell"><span>-gt</span></span><span>&nbsp;255&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>]</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span><span>|</span></span><span>&nbsp;</span><span class="syntax--meta syntax--scope syntax--logical-expression syntax--shell"><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>[</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>num</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--shell"><span>-lt</span></span><span>&nbsp;0&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>]</span></span></span><span class="syntax--keyword syntax--operator syntax--list syntax--shell"><span>;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>then</span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>return</span></span><span>&nbsp;1</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>fi</span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>done</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>return</span></span><span>&nbsp;0</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span class="syntax--punctuation syntax--definition syntax--group syntax--shell"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;调用</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>CheckIPAddr&nbsp;192.168.1.1</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>if</span></span><span>&nbsp;</span><span class="syntax--meta syntax--scope syntax--logical-expression syntax--shell"><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>[</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--special syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>?</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--shell"><span>-ne</span></span><span>&nbsp;0&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>]</span></span></span><span class="syntax--keyword syntax--operator syntax--list syntax--shell"><span>;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>then</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>invalid</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>fi</span></span></span></span>
</div></pre>
<h1>替换文件中所有 \r</h1>
<pre class="editor-colors lang-bash"><div class="line"><span class="syntax--source syntax--shell"><span>sed&nbsp;-i&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>'</span></span><span>s/\r//g</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>'</span></span></span><span>&nbsp;FILE</span></span>
</div></pre>
<h1>检查进程是否重启</h1>
<pre class="editor-colors lang-bash"><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shebang syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shebang syntax--shell"><span>#!</span></span><span>/bin/bash</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>if</span></span><span>&nbsp;</span><span class="syntax--meta syntax--scope syntax--logical-expression syntax--shell"><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>[</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--special syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>#</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--shell"><span>-ne</span></span><span>&nbsp;1&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>]</span></span></span><span class="syntax--keyword syntax--operator syntax--list syntax--shell"><span>;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>then</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>Usage:&nbsp;[Process&nbsp;Name]</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>exit</span></span><span>&nbsp;0</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>fi</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>PID=</span><span class="syntax--string syntax--interpolated syntax--backtick syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>`</span></span><span>ps&nbsp;afx</span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>grep&nbsp;</span><span class="syntax--variable syntax--other syntax--positional syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>1</span></span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>grep&nbsp;-v&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>grep</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>grep&nbsp;-v&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>/bin/bash</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>head&nbsp;-n&nbsp;1</span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>awk&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>'</span></span><span>{print&nbsp;$1}</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>'</span></span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>`</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--while-loop syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>while</span></span><span>&nbsp;</span><span class="syntax--meta syntax--scope syntax--logical-expression syntax--shell"><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>[</span></span><span>&nbsp;1&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>]</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--while-loop syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>do</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--while-loop syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;PID2=</span><span class="syntax--string syntax--interpolated syntax--backtick syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>`</span></span><span>ps&nbsp;afx</span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>grep&nbsp;</span><span class="syntax--variable syntax--other syntax--positional syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>1</span></span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>grep&nbsp;-v&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>grep</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>grep&nbsp;-v&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>/bin/bash</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>head&nbsp;-n&nbsp;1</span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>awk&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>'</span></span><span>{print&nbsp;$1}</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>'</span></span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>`</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--while-loop syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--while-loop syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>if</span></span><span>&nbsp;</span><span class="syntax--meta syntax--scope syntax--logical-expression syntax--shell"><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>[</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>PID2</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>]</span></span></span><span class="syntax--keyword syntax--operator syntax--list syntax--shell"><span>;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>then</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--while-loop syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>if</span></span><span>&nbsp;</span><span class="syntax--meta syntax--scope syntax--logical-expression syntax--shell"><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>[</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--shell"><span>!</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>PID</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>]</span></span></span><span class="syntax--keyword syntax--operator syntax--list syntax--shell"><span>;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>then</span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--while-loop syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PID=</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>PID2</span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--while-loop syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>PID:&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>PID</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--while-loop syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>else</span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--while-loop syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>if</span></span><span>&nbsp;</span><span class="syntax--meta syntax--scope syntax--logical-expression syntax--shell"><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>[</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>PID</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--shell"><span>-ne</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>PID2</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>]</span></span></span><span class="syntax--keyword syntax--operator syntax--list syntax--shell"><span>;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>then</span></span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--while-loop syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>Server&nbsp;is&nbsp;reboot,&nbsp;PID:&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>PID</span></span><span>&nbsp;--&gt;&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>PID2</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--while-loop syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PID=</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>PID2</span></span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--while-loop syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>else</span></span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--while-loop syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>Server&nbsp;is&nbsp;running,&nbsp;PID:&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>PID2</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--while-loop syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>fi</span></span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--while-loop syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>fi</span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--while-loop syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>else</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--while-loop syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>Server&nbsp;is&nbsp;not&nbsp;running</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--while-loop syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>fi</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--while-loop syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--while-loop syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;sleep&nbsp;1</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--while-loop syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>done</span></span></span></span>
</div></pre>
<h1>nohup 后台启动 java 进程</h1>
<pre class="editor-colors lang-bash"><div class="line"><span class="syntax--source syntax--shell"><span>nohup&nbsp;java&nbsp;-classpath&nbsp;xxx_service_1.0.jar&nbsp;xxx_entry&nbsp;</span><span class="syntax--keyword syntax--operator syntax--redirect syntax--shell"><span>&gt;</span></span><span>&nbsp;xxx_service.log&nbsp;</span><span class="syntax--keyword syntax--operator syntax--redirect syntax--shell"><span>2&gt;&amp;1</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--list syntax--shell"><span>&amp;</span></span></span>
</div></pre>
<h1>获取进程号、杀进程</h1>
<pre class="editor-colors lang-bash"><div class="line"><span class="syntax--source syntax--shell"><span>ps&nbsp;afx</span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>grep&nbsp;进程名</span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>grep&nbsp;-v&nbsp;grep</span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>awk&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>'</span></span><span>{print&nbsp;$1}</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>'</span></span></span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>xargs&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>kill</span></span><span>&nbsp;-9</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>pgrep&nbsp;进程名</span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>xargs&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>kill</span></span><span>&nbsp;-9</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>pidof&nbsp;进程名</span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>xargs&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>kill</span></span><span>&nbsp;-9</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>pkill&nbsp;-9&nbsp;进程名</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>killall&nbsp;-9&nbsp;进程名</span></span>
</div></pre>
<h1>查询、启动、停止服务</h1>
<pre class="editor-colors lang-bash"><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;新管理方式，如&nbsp;Cent&nbsp;OS&nbsp;&gt;=&nbsp;7.x</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>systemctl&nbsp;start/status/enable/disable/stop/restart&nbsp;xxx_service</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;旧管理方式，如&nbsp;Cent&nbsp;OS&nbsp;&lt;&nbsp;7.x</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>service&nbsp;xxx_service&nbsp;start/status/stop/restart</span></span>
</div></pre>
<h1>显示已经登录的用户、执行的命令</h1>
<pre class="editor-colors lang-bash"><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;显示已经登录的用户以及正在执行的命令</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>w</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;示例</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--keyword syntax--operator syntax--redirect syntax--shell"><span>&gt;</span></span><span>&nbsp;w</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;18:27:34&nbsp;up&nbsp;89&nbsp;days,&nbsp;&nbsp;6:41,&nbsp;&nbsp;6&nbsp;users,&nbsp;&nbsp;load&nbsp;average:&nbsp;0.46,&nbsp;0.46,&nbsp;0.34</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>USER&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TTY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LOGIN@&nbsp;&nbsp;&nbsp;IDLE&nbsp;&nbsp;&nbsp;JCPU&nbsp;&nbsp;&nbsp;PCPU&nbsp;WHAT</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pts/1&nbsp;&nbsp;&nbsp;&nbsp;172.13.30.133&nbsp;&nbsp;&nbsp;&nbsp;14:30&nbsp;&nbsp;&nbsp;&nbsp;3:56m&nbsp;&nbsp;0.33s&nbsp;&nbsp;0.33s&nbsp;-bash</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>kevin&nbsp;&nbsp;&nbsp;&nbsp;pts/2&nbsp;&nbsp;&nbsp;&nbsp;172.13.30.219&nbsp;&nbsp;&nbsp;&nbsp;Thu08&nbsp;&nbsp;&nbsp;19:14&nbsp;&nbsp;&nbsp;3.06s&nbsp;&nbsp;3.06s&nbsp;-bash</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>kevin&nbsp;&nbsp;&nbsp;&nbsp;pts/5&nbsp;&nbsp;&nbsp;&nbsp;172.13.30.219&nbsp;&nbsp;&nbsp;&nbsp;17:48&nbsp;&nbsp;&nbsp;&nbsp;0.00s&nbsp;&nbsp;0.60s&nbsp;&nbsp;0.01s&nbsp;w</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pts/6&nbsp;&nbsp;&nbsp;&nbsp;172.13.30.219&nbsp;&nbsp;&nbsp;&nbsp;18:09&nbsp;&nbsp;&nbsp;17:10&nbsp;&nbsp;&nbsp;0.04s&nbsp;&nbsp;0.04s&nbsp;-bash</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>kevin&nbsp;&nbsp;&nbsp;&nbsp;pts/7&nbsp;&nbsp;&nbsp;&nbsp;172.13.30.219&nbsp;&nbsp;&nbsp;&nbsp;18:06&nbsp;&nbsp;&nbsp;20:42&nbsp;&nbsp;&nbsp;0.00s&nbsp;&nbsp;0.00s&nbsp;-bash</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;显示已经登录的用户、登录的终端</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>who</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;示例</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--keyword syntax--operator syntax--redirect syntax--shell"><span>&gt;</span></span><span>&nbsp;who</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pts/1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2018-03-27&nbsp;14:30&nbsp;</span><span class="syntax--meta syntax--scope syntax--subshell syntax--shell"><span class="syntax--punctuation syntax--definition syntax--subshell syntax--shell"><span>(</span></span><span>172.13.30.133</span><span class="syntax--punctuation syntax--definition syntax--subshell syntax--shell"><span>)</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>kevin&nbsp;&nbsp;&nbsp;&nbsp;pts/2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2018-03-22&nbsp;08:09&nbsp;</span><span class="syntax--meta syntax--scope syntax--subshell syntax--shell"><span class="syntax--punctuation syntax--definition syntax--subshell syntax--shell"><span>(</span></span><span>172.13.30.219</span><span class="syntax--punctuation syntax--definition syntax--subshell syntax--shell"><span>)</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pts/3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2018-03-27&nbsp;14:31&nbsp;</span><span class="syntax--meta syntax--scope syntax--subshell syntax--shell"><span class="syntax--punctuation syntax--definition syntax--subshell syntax--shell"><span>(</span></span><span>172.13.30.133</span><span class="syntax--punctuation syntax--definition syntax--subshell syntax--shell"><span>)</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>kevin&nbsp;&nbsp;&nbsp;&nbsp;pts/5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2018-03-27&nbsp;17:48&nbsp;</span><span class="syntax--meta syntax--scope syntax--subshell syntax--shell"><span class="syntax--punctuation syntax--definition syntax--subshell syntax--shell"><span>(</span></span><span>172.13.30.219</span><span class="syntax--punctuation syntax--definition syntax--subshell syntax--shell"><span>)</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pts/6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2018-03-27&nbsp;18:09&nbsp;</span><span class="syntax--meta syntax--scope syntax--subshell syntax--shell"><span class="syntax--punctuation syntax--definition syntax--subshell syntax--shell"><span>(</span></span><span>172.13.30.219</span><span class="syntax--punctuation syntax--definition syntax--subshell syntax--shell"><span>)</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>kevin&nbsp;&nbsp;&nbsp;&nbsp;pts/7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2018-03-27&nbsp;18:06&nbsp;</span><span class="syntax--meta syntax--scope syntax--subshell syntax--shell"><span class="syntax--punctuation syntax--definition syntax--subshell syntax--shell"><span>(</span></span><span>172.13.30.219</span><span class="syntax--punctuation syntax--definition syntax--subshell syntax--shell"><span>)</span></span></span></span>
</div></pre>
<h1>添加定时任务</h1>
<pre class="editor-colors lang-bash"><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>##&nbsp;at&nbsp;定时任务</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;示例：添加一个&nbsp;1&nbsp;分钟之后执行的任务，按&nbsp;Ctrl&nbsp;+&nbsp;D&nbsp;退出</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--keyword syntax--operator syntax--redirect syntax--shell"><span>&gt;</span></span><span>&nbsp;at&nbsp;now&nbsp;+1&nbsp;minutes</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>at</span><span class="syntax--keyword syntax--operator syntax--redirect syntax--shell"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;hello&nbsp;</span><span class="syntax--keyword syntax--operator syntax--redirect syntax--shell"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--tilde syntax--shell"><span>~</span></span><span>/at.log</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>at</span><span class="syntax--keyword syntax--operator syntax--redirect syntax--shell"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--redirect syntax--shell"><span>&lt;</span></span><span>EOT</span><span class="syntax--keyword syntax--operator syntax--redirect syntax--shell"><span>&gt;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>job&nbsp;6&nbsp;at&nbsp;2018-03-27&nbsp;19:20</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;示例：查询所有&nbsp;at&nbsp;任务</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--keyword syntax--operator syntax--redirect syntax--shell"><span>&gt;</span></span><span>&nbsp;atq</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2018-03-27&nbsp;19:20&nbsp;a&nbsp;kevin</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;示例：删除&nbsp;at&nbsp;定时任务（6&nbsp;位&nbsp;job&nbsp;ID）</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--keyword syntax--operator syntax--redirect syntax--shell"><span>&gt;</span></span><span>&nbsp;atrm&nbsp;6</span></span>
</div></pre>
<h3>crontab 定时任务</h3>
<pre class="editor-colors lang-bash"><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;添加定时任务</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>crontab&nbsp;-e</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;查询所有&nbsp;crontab&nbsp;任务</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>crontab&nbsp;-l</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;示例</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;Example&nbsp;of&nbsp;job&nbsp;definition:</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;.----------------&nbsp;minute&nbsp;(0&nbsp;-&nbsp;59)</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;|&nbsp;&nbsp;.-------------&nbsp;hour&nbsp;(0&nbsp;-&nbsp;23)</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;.----------&nbsp;day&nbsp;of&nbsp;month&nbsp;(1&nbsp;-&nbsp;31)</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;.-------&nbsp;month&nbsp;(1&nbsp;-&nbsp;12)&nbsp;OR&nbsp;jan,feb,mar,apr&nbsp;...</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;.----&nbsp;day&nbsp;of&nbsp;week&nbsp;(0&nbsp;-&nbsp;6)&nbsp;(Sunday=0&nbsp;or&nbsp;7)&nbsp;OR</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;sun,mon,tue,wed,thu,fri,sat</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;|</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;*&nbsp;&nbsp;*&nbsp;&nbsp;*&nbsp;&nbsp;*&nbsp;&nbsp;*&nbsp;user-name&nbsp;command&nbsp;to&nbsp;be&nbsp;executed</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;每个小时第&nbsp;05&nbsp;分执行同步系统时间、硬件时钟</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>05&nbsp;</span><span class="syntax--keyword syntax--operator syntax--glob syntax--shell"><span>*</span></span><span>/1&nbsp;</span><span class="syntax--keyword syntax--operator syntax--glob syntax--shell"><span>*</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--glob syntax--shell"><span>*</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--glob syntax--shell"><span>*</span></span><span>&nbsp;rdate&nbsp;-t&nbsp;30&nbsp;-s&nbsp;time.nist.gov&nbsp;</span><span class="syntax--keyword syntax--operator syntax--list syntax--shell"><span>&amp;&amp;</span></span><span>&nbsp;/usr/sbin/hwclock&nbsp;-w</span></span>
</div></pre>
<h1>watch 持续监视命令的执行情况</h1>
<pre class="editor-colors lang-bash"><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;每隔&nbsp;3s，打印一次指定端口&nbsp;9999&nbsp;处于连接已建立的连接数目</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>watch&nbsp;-n&nbsp;3&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>'</span></span><span>netstat&nbsp;-anp|grep&nbsp;9999|wc&nbsp;-l</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>'</span></span></span></span>
</div></pre>
<h1>TCP/UDP 收发数据、探测端口是否打开</h1>
<h3>nc</h3>
<pre class="editor-colors lang-bash"><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;监听&nbsp;1234</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>nc&nbsp;-l&nbsp;1234</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;连接&nbsp;1234</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>nc&nbsp;127.0.0.1&nbsp;1234</span></span>
</div></pre>
<h3>telnet</h3>
<pre class="editor-colors lang-bash"><div class="line"><span class="syntax--source syntax--shell"><span>telnet&nbsp;127.0.0.1&nbsp;1234</span></span>
</div></pre>
<h1>逐行读取文件</h1>
<h3>while 循环</h3>
<pre class="editor-colors lang-bash"><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--while-loop syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>while</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>read</span></span><span>&nbsp;LINE</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--while-loop syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>do</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--while-loop syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>LINE</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--while-loop syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>done</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--redirect syntax--shell"><span>&lt;</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>FILE</span></span></span>
</div></pre>
<h3>重定向法（管道法）</h3>
<pre class="editor-colors lang-bash"><div class="line"><span class="syntax--source syntax--shell"><span>cat&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>FILE</span></span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>while&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>read</span></span><span>&nbsp;LINE</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>do</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>LINE</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>done</span></span></span>
</div></pre>
<h3>文件描述符法</h3>
<pre class="editor-colors lang-bash"><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;如下两个操作可合并</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;exec&nbsp;3&lt;&amp;0&nbsp;exec&nbsp;0&lt;$FILE</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>exec</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--redirect syntax--shell"><span>3&lt;</span></span><span class="syntax--keyword syntax--operator syntax--list syntax--shell"><span>&amp;</span></span><span>0</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>exec</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--redirect syntax--shell"><span>0&lt;</span></span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>FILE</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--while-loop syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>while</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>read</span></span><span>&nbsp;LINE</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--while-loop syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>do</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--while-loop syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>LINE</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--while-loop syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>done</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>exec</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--redirect syntax--shell"><span>0&lt;</span></span><span class="syntax--keyword syntax--operator syntax--list syntax--shell"><span>&amp;</span></span><span>3</span></span>
</div></pre>
<h3>for 循环</h3>
<pre class="editor-colors lang-bash"><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>for</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--loop syntax--shell"><span>LINE</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>in</span></span><span>&nbsp;</span><span class="syntax--string syntax--interpolated syntax--backtick syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>`</span></span><span>cat&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>FILE</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>`</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>do</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>LINE</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>done</span></span></span></span>
</div></pre>
<h1>如何解决 Linux Error: No space left on device</h1>
<h3>判断磁盘空间是否满，inode 是否耗尽</h3>
<pre class="editor-colors lang-bash"><div class="line"><span class="syntax--source syntax--shell"><span>df&nbsp;-h</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>df&nbsp;-i</span></span>
</div></pre>
<h3>查找大文件</h3>
<pre class="editor-colors lang-bash"><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;按照大小降序排列（取出前&nbsp;10&nbsp;个大文件）</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>du&nbsp;-sh&nbsp;target.dir</span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>sort&nbsp;-n</span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>head</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;查找目录下大于&nbsp;1M&nbsp;且小于&nbsp;10M&nbsp;的文件</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>find&nbsp;&nbsp;target.dir&nbsp;-size&nbsp;+1M&nbsp;-size&nbsp;-10M&nbsp;-type&nbsp;f&nbsp;-name&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>*.jpg</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;指定查询目录层级</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>du&nbsp;-h&nbsp;--max-depth=1</span></span>
</div></pre>
<h3>查找访问某个目录的进程</h3>
<pre class="editor-colors lang-bash"><div class="line"><span class="syntax--source syntax--shell"><span>lsof&nbsp;+d&nbsp;/tmp</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;示例</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--keyword syntax--operator syntax--redirect syntax--shell"><span>&gt;</span></span><span>&nbsp;lsof&nbsp;+d&nbsp;</span><span class="syntax--keyword syntax--operator syntax--tilde syntax--shell"><span>~</span></span><span>/blog/</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>COMMAND&nbsp;&nbsp;&nbsp;PID&nbsp;&nbsp;USER&nbsp;&nbsp;&nbsp;FD&nbsp;&nbsp;&nbsp;TYPE&nbsp;DEVICE&nbsp;SIZE/OFF&nbsp;&nbsp;&nbsp;&nbsp;NODE&nbsp;NAME</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>bash&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;6936&nbsp;kevin&nbsp;&nbsp;cwd&nbsp;&nbsp;&nbsp;&nbsp;DIR&nbsp;&nbsp;253,2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4096&nbsp;3675368&nbsp;/home/kevin/blog</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>vim&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;24969&nbsp;kevin&nbsp;&nbsp;cwd&nbsp;&nbsp;&nbsp;&nbsp;DIR&nbsp;&nbsp;253,2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4096&nbsp;3675368&nbsp;/home/kevin/blog</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>vim&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;24969&nbsp;kevin&nbsp;&nbsp;&nbsp;&nbsp;4u&nbsp;&nbsp;&nbsp;REG&nbsp;&nbsp;253,2&nbsp;&nbsp;&nbsp;&nbsp;20480&nbsp;3675605&nbsp;/home/kevin/blog/.SHELL.md.swp</span></span>
</div></pre>
<h3>删除文件（少量）</h3>
<pre class="editor-colors lang-bash"><div class="line"><span class="syntax--source syntax--shell"><span>find&nbsp;/tmp&nbsp;-type&nbsp;f&nbsp;-exec&nbsp;rm&nbsp;{}&nbsp;</span><span class="syntax--constant syntax--character syntax--escape syntax--shell"><span>\;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;注意：xargs&nbsp;默认是以空白字符（空格，TAB，换行符）来分割记录的，如果文件名中间有空格，例如&nbsp;/tmp/file&nbsp;1.log，</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;此时自动被当做两个文件&nbsp;/tmp/file&nbsp;与&nbsp;1.log，执行命令报错：No&nbsp;such&nbsp;file&nbsp;or&nbsp;directory</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>find&nbsp;-name&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>'</span></span><span>*.log</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>'</span></span></span><span>&nbsp;-print0</span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>xargs&nbsp;-0&nbsp;rm</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;可能存在大小为&nbsp;0&nbsp;字节的空文件，同样也会占用&nbsp;inode</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>find&nbsp;/tmp&nbsp;-type&nbsp;f&nbsp;-size&nbsp;0&nbsp;-exec&nbsp;rm&nbsp;{}&nbsp;</span><span class="syntax--constant syntax--character syntax--escape syntax--shell"><span>\;</span></span></span>
</div></pre>
<h3>删除文件（大量）</h3>
<pre class="editor-colors lang-bash"><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;先建立一个空目录</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>mkdir&nbsp;/data/blank</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;用&nbsp;rsync&nbsp;删除目标目录</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>rsync&nbsp;--delete-before&nbsp;-d&nbsp;/data/blank/&nbsp;/tmp/</span></span>
</div></pre>
<h3>删除大文件</h3>
<pre class="editor-colors lang-bash"><div class="line"><span class="syntax--source syntax--shell"><span>cat&nbsp;/dev/null&nbsp;</span><span class="syntax--keyword syntax--operator syntax--redirect syntax--shell"><span>&gt;</span></span><span>&nbsp;target.file</span></span>
</div></pre>
<h1>查找指定范围内的日志信息</h1>
<pre class="editor-colors lang-bash"><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;查找时间范围&nbsp;2018/03/28&nbsp;05:00:00&nbsp;~&nbsp;2018/03/28&nbsp;07:59:59&nbsp;的所有日志</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>sed&nbsp;-n&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>'</span></span><span>#2018/03/28&nbsp;05:[0-9][0-9]:[0-9][0-9]#,#2018/03/28&nbsp;07:[0-9][0-9]:[0-9][0-9]#p</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>'</span></span></span><span>&nbsp;log</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;查找&nbsp;2018-03-29&nbsp;00:24:00&nbsp;~&nbsp;2018-03-29&nbsp;00:25:59&nbsp;的所有日志</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>cat&nbsp;log</span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>grep&nbsp;&nbsp;-E&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>'</span></span><span>2018-03-29&nbsp;00:2[4-5]:[0-9][0-9]</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>'</span></span></span></span>
</div></pre>
<h1>tr 字符进行替换、压缩和删除</h1>
<pre class="editor-colors lang-bash"><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;将输入字符由大写转换为小写</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--keyword syntax--operator syntax--redirect syntax--shell"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>Hello&nbsp;World</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>tr&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>'</span></span><span>a-z</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>'</span></span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>'</span></span><span>A-Z</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>'</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>HELLO&nbsp;WORLD</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;删除字符</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--keyword syntax--operator syntax--redirect syntax--shell"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>hello&nbsp;123&nbsp;world&nbsp;456</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>tr&nbsp;-d&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>'</span></span><span>0-9</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>'</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>hello&nbsp;world</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;将制表符转换为空格</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>cat&nbsp;text</span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>tr&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>'</span></span><span>\t</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>'</span></span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>'</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>'</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;将不在指定字符集合中的所有字符删除</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--keyword syntax--operator syntax--redirect syntax--shell"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>aa.,a&nbsp;1&nbsp;b#</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>bb</span></span><span>&nbsp;2&nbsp;c*/cc&nbsp;3&nbsp;ddd&nbsp;4</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>tr&nbsp;-d&nbsp;-c&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>'</span></span><span>0-9&nbsp;\n</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>'</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>1&nbsp;2&nbsp;3&nbsp;4</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;去掉重复的字符</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--keyword syntax--operator syntax--redirect syntax--shell"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>hell&nbsp;&nbsp;&nbsp;oooo&nbsp;wwwworld</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>tr&nbsp;-d&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>'</span></span><span>&nbsp;ow</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>'</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>hello&nbsp;world</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;数字相加操作</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--keyword syntax--operator syntax--redirect syntax--shell"><span>&gt;</span></span><span>&nbsp;seq&nbsp;100</span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>xargs&nbsp;-n1</span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>echo&nbsp;$</span><span class="syntax--meta syntax--scope syntax--logical-expression syntax--shell"><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>[</span></span><span>&nbsp;</span><span class="syntax--string syntax--interpolated syntax--dollar syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>$(</span></span><span>tr&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>'</span></span><span>\n</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>'</span></span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>'</span></span><span>+</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>'</span></span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>)</span></span></span><span>0&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>]</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>5050</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;取出&nbsp;mac&nbsp;地址，去掉冒号，转换为大写</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--keyword syntax--operator syntax--redirect syntax--shell"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>2018/03/29&nbsp;16:00:22&nbsp;bc:ec:29:39:d4:2f&nbsp;online</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>awk&nbsp;-F&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>'</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>'</span></span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>'</span></span><span>{print&nbsp;$3}</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>'</span></span></span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>tr&nbsp;&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>'</span></span><span>a-z</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>'</span></span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>'</span></span><span>A-Z</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>'</span></span></span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>tr&nbsp;-d&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>'</span></span><span>:</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>'</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>BCEC2939D42F</span></span>
</div></pre>
<h1>编译、打包脚本</h1>
<pre class="editor-colors lang-bash"><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shebang syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shebang syntax--shell"><span>#!</span></span><span>/bin/sh</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--function syntax--shell"><span class="syntax--entity syntax--name syntax--function syntax--shell"><span>usage</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--shell"><span>()</span></span><span>&nbsp;</span><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span class="syntax--punctuation syntax--definition syntax--group syntax--shell"><span>{</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--function syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>usage:&nbsp;</span><span class="syntax--variable syntax--other syntax--special syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>0</span></span><span>&nbsp;&lt;Ver&gt;&nbsp;&lt;Env&gt;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--function syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>&nbsp;&nbsp;Option:</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--function syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ver&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;consist&nbsp;of&nbsp;4&nbsp;parts,&nbsp;i.e.&nbsp;1.0.1.0</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--function syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Env&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[dev|test|prod]</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--function syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--function syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>exit</span></span><span>&nbsp;1</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--function syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span class="syntax--punctuation syntax--definition syntax--group syntax--shell"><span>}</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;Return:&nbsp;0,&nbsp;valid;&nbsp;1,&nbsp;invalid</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--function syntax--shell"><span class="syntax--entity syntax--name syntax--function syntax--shell"><span>check_env</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--shell"><span>()</span></span><span>&nbsp;</span><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span class="syntax--punctuation syntax--definition syntax--group syntax--shell"><span>{</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--function syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;envs=</span><span class="syntax--meta syntax--scope syntax--subshell syntax--shell"><span class="syntax--punctuation syntax--definition syntax--subshell syntax--shell"><span>(</span></span><span class="syntax--string syntax--quoted syntax--single syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>'</span></span><span>dev&nbsp;test&nbsp;prod</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>'</span></span></span><span class="syntax--punctuation syntax--definition syntax--subshell syntax--shell"><span>)</span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--function syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>for</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--loop syntax--shell"><span>env</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>in</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>envs</span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--function syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>do</span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--function syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>if</span></span><span>&nbsp;</span><span class="syntax--meta syntax--scope syntax--logical-expression syntax--shell"><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>[[</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span class="syntax--variable syntax--other syntax--positional syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>1</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--shell"><span>==</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>env</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>]]</span></span></span><span class="syntax--keyword syntax--operator syntax--list syntax--shell"><span>;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>then</span></span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--function syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>return</span></span><span>&nbsp;0</span><span class="syntax--keyword syntax--operator syntax--list syntax--shell"><span>;</span></span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--function syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>fi</span></span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--function syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>done</span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--function syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span>&nbsp;</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--function syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>return</span></span><span>&nbsp;1</span><span class="syntax--keyword syntax--operator syntax--list syntax--shell"><span>;</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--function syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span class="syntax--punctuation syntax--definition syntax--group syntax--shell"><span>}</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>if</span></span><span>&nbsp;</span><span class="syntax--meta syntax--scope syntax--logical-expression syntax--shell"><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>[</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--special syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>#</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--shell"><span>-ne</span></span><span>&nbsp;2&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>]</span></span></span><span class="syntax--keyword syntax--operator syntax--list syntax--shell"><span>;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>then</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;usage</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>fi</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>check_env&nbsp;</span><span class="syntax--variable syntax--other syntax--positional syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>2</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>if</span></span><span>&nbsp;</span><span class="syntax--meta syntax--scope syntax--logical-expression syntax--shell"><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>[</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--special syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>?</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--shell"><span>!=</span></span><span>&nbsp;0&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>]</span></span></span><span class="syntax--keyword syntax--operator syntax--list syntax--shell"><span>;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>then</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>Option&nbsp;Env&nbsp;invalid,&nbsp;check&nbsp;again</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;usage</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>exit</span></span><span>&nbsp;1</span><span class="syntax--keyword syntax--operator syntax--list syntax--shell"><span>;</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>fi</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>VERSION=</span><span class="syntax--variable syntax--other syntax--positional syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>1</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>ENV=</span><span class="syntax--variable syntax--other syntax--positional syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>2</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>[INFO]&nbsp;Version:&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>VERSION</span></span><span>,&nbsp;Environment:&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>ENV</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>[INFO]&nbsp;clean&nbsp;all&nbsp;...</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>cd</span></span><span>&nbsp;..</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>find&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>.</span></span><span>&nbsp;-name&nbsp;cmake_install.cmake&nbsp;</span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>&nbsp;xargs&nbsp;rm&nbsp;-rf</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>find&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>.</span></span><span>&nbsp;-name&nbsp;CMakeFiles&nbsp;</span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>&nbsp;xargs&nbsp;rm&nbsp;-rf</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>find&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>.</span></span><span>&nbsp;-name&nbsp;CMakeCache.txt&nbsp;</span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>&nbsp;xargs&nbsp;rm&nbsp;-rf</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>find&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>.</span></span><span>&nbsp;-name&nbsp;Makefile&nbsp;</span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>&nbsp;xargs&nbsp;rm&nbsp;-rf</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>cd</span></span><span>&nbsp;-&nbsp;</span><span class="syntax--keyword syntax--operator syntax--redirect syntax--shell"><span>&gt;</span></span><span>&nbsp;/dev/null</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>ls&nbsp;-d&nbsp;</span><span class="syntax--keyword syntax--operator syntax--glob syntax--shell"><span>*</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>&nbsp;grep&nbsp;-v&nbsp;make_release.sh&nbsp;</span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>&nbsp;xargs&nbsp;rm&nbsp;-rf</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>[INFO]&nbsp;compile&nbsp;all&nbsp;...</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>cmake&nbsp;-DCMAKE_BUILD_TYPE=Release&nbsp;..</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>make&nbsp;-j4</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>[INFO]&nbsp;packing&nbsp;all&nbsp;...</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>PKGNAME=xxx_access_</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>ENV</span></span><span class="syntax--constant syntax--character syntax--escape syntax--shell"><span>\_</span></span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>VERSION</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>PKGACCESS=</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>PKGNAME</span></span><span>/access</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>PKGPROXY=</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>PKGNAME</span></span><span>/proxy</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>PKGLOGGER=</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>PKGNAME</span></span><span>/logger</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>mkdir&nbsp;-p&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>PKGNAME</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>PKGLIB</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>PKGACCESS</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>PKGLOGGER</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>PKGPROXY</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>cp&nbsp;-rP&nbsp;test/access/test_access&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>PKGACCESS</span></span><span>/access</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>cp&nbsp;-rP&nbsp;../test/access/access_cmd.sh&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>PKGACCESS</span></span><span>/remote_access_client.sh</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>chmod&nbsp;+x&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>PKGACCESS</span></span><span>/remote_access_client.sh</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>cp&nbsp;-rP&nbsp;test/logger_server/test_logger_server&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>PKGLOGGER</span></span><span>/logger</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>cp&nbsp;-rP&nbsp;test/logger_server/test_logger_client&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>PKGLOGGER</span></span><span>/client</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>cp&nbsp;-rP&nbsp;test/proxy/test_proxy&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>PKGPROXY</span></span><span>/proxy</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>cp&nbsp;-rP&nbsp;test/proxy/test_client&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>PKGPROXY</span></span><span>/client</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>[INFO]&nbsp;generating&nbsp;default&nbsp;configuration&nbsp;file</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>cat&nbsp;</span><span class="syntax--keyword syntax--operator syntax--redirect syntax--shell"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>PKGACCESS</span></span><span>/default.conf&nbsp;</span><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span class="syntax--keyword syntax--operator syntax--heredoc syntax--shell"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--heredoc-token syntax--shell"><span>EOF</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>{</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;"sub_topic"&nbsp;:&nbsp;"$ENV-access",</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;"pub_topic"&nbsp;:&nbsp;"$ENV-device_management_system",</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;"proxy_topic"&nbsp;:&nbsp;"$ENV-proxy",</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;"kafka_brokers"&nbsp;:&nbsp;"xxx.xxx.xxx.xxx:9092",</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;"oauth_server_addr"&nbsp;:&nbsp;"xxx.xxx.xxx.xxx",</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;"oauth_server_port"&nbsp;:&nbsp;9006,</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;"oauth_username"&nbsp;:&nbsp;"dbaccess",</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;"oauth_password"&nbsp;:&nbsp;"123456",</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;"listen_addr"&nbsp;:&nbsp;"xxx.xxx.xxx.xxx",</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;"listen_port"&nbsp;:&nbsp;10999,</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;"heartbeat_timeout"&nbsp;:&nbsp;60,</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;"http_listen_addr"&nbsp;:&nbsp;"xxx.xxx.xxx.xxx",</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;"http_listen_port"&nbsp;:&nbsp;10086,</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;"http_username"&nbsp;:&nbsp;"dbaccess",</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;"http_password"&nbsp;:&nbsp;"123456",</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;"enable_debug"&nbsp;:&nbsp;true,</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;"reserved"&nbsp;:&nbsp;false</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>}</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span class="syntax--keyword syntax--control syntax--heredoc-token syntax--shell"><span>EOF</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>cat&nbsp;</span><span class="syntax--keyword syntax--operator syntax--redirect syntax--shell"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>PKGLOGGER</span></span><span>/default.conf&nbsp;</span><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span class="syntax--keyword syntax--operator syntax--heredoc syntax--shell"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--heredoc-token syntax--shell"><span>EOF</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>{</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;"listen_port"&nbsp;:&nbsp;10998</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>}</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span class="syntax--keyword syntax--control syntax--heredoc-token syntax--shell"><span>EOF</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>cat&nbsp;</span><span class="syntax--keyword syntax--operator syntax--redirect syntax--shell"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>PKGPROXY</span></span><span>/default.conf&nbsp;</span><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span class="syntax--keyword syntax--operator syntax--heredoc syntax--shell"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--heredoc-token syntax--shell"><span>EOF</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>{</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;"sub_topic"&nbsp;:&nbsp;"$ENV-proxy",</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;"kafka_brokers"&nbsp;:&nbsp;"xxx.xxx.xxx.xxx:9092",</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;"listen_port"&nbsp;:&nbsp;12306,</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;"active_timeout"&nbsp;:&nbsp;15,</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;"loadbalance_type":&nbsp;1,</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;"mac_rule":&nbsp;[</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"mac_set":&nbsp;[],</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"mac_instance_set":&nbsp;[]</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;],</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;"ip_rule":&nbsp;[</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"ip_set":&nbsp;[],</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"ip_instance_set":&nbsp;[]</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;]</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>}</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span class="syntax--keyword syntax--control syntax--heredoc-token syntax--shell"><span>EOF</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>[INFO]&nbsp;generating&nbsp;version&nbsp;info&nbsp;...</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>COMMITID=</span><span class="syntax--string syntax--interpolated syntax--dollar syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>$(</span></span><span>git&nbsp;rev-list&nbsp;-1&nbsp;HEAD</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>)</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>cat&nbsp;</span><span class="syntax--keyword syntax--operator syntax--redirect syntax--shell"><span>&gt;</span></span><span>&nbsp;VERSION&nbsp;</span><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span class="syntax--keyword syntax--operator syntax--heredoc syntax--shell"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--heredoc-token syntax--shell"><span>EOF</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>COMMIT&nbsp;ID:&nbsp;$COMMITID</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>VERSION&nbsp;&nbsp;:&nbsp;$VERSION</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span class="syntax--keyword syntax--control syntax--heredoc-token syntax--shell"><span>EOF</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>for</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--loop syntax--shell"><span>dir</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>in</span></span><span>&nbsp;</span><span class="syntax--string syntax--interpolated syntax--dollar syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>$(</span></span><span>find&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>PKGNAME</span></span><span>&nbsp;-mindepth&nbsp;1&nbsp;-maxdepth&nbsp;1&nbsp;-type&nbsp;d</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>)</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>do</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>cd</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>dir</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;md5sum&nbsp;</span><span class="syntax--string syntax--interpolated syntax--dollar syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>$(</span></span><span>find&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>.</span></span><span>&nbsp;-type&nbsp;f</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--redirect syntax--shell"><span>&gt;</span></span><span>&nbsp;/tmp/MD5SUM</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;mv&nbsp;/tmp/MD5SUM&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>.</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;cp&nbsp;../../VERSION&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>.</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>cd</span></span><span>&nbsp;-&nbsp;</span><span class="syntax--keyword syntax--operator syntax--redirect syntax--shell"><span>&gt;</span></span><span>&nbsp;/dev/null</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>done</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>rm&nbsp;-rf&nbsp;VERSION</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>[INFO]&nbsp;generating&nbsp;ChangeLog</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>cp&nbsp;../ChangeLog&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>PKGNAME</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>[INFO]&nbsp;generating&nbsp;INSTALL</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>cat&nbsp;</span><span class="syntax--keyword syntax--operator syntax--redirect syntax--shell"><span>&gt;</span></span><span>&nbsp;INSTALL&nbsp;</span><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span class="syntax--keyword syntax--operator syntax--heredoc syntax--shell"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--heredoc-token syntax--shell"><span>EOF</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>===========================================================================</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>1.&nbsp;接入服务&nbsp;access</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>a.&nbsp;修改配置文件</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>b.&nbsp;配置防火墙，vim&nbsp;/etc/sysconfig/iptables&nbsp;加入一条（以端口号&nbsp;10999&nbsp;为例）</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>-A&nbsp;INPUT&nbsp;-p&nbsp;tcp&nbsp;-m&nbsp;state&nbsp;--state&nbsp;NEW&nbsp;-m&nbsp;tcp&nbsp;--dport&nbsp;10999&nbsp;-j&nbsp;ACCEPT</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>c.&nbsp;启动服务</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>./access&nbsp;-d&nbsp;-w&nbsp;--conf&nbsp;default.conf</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>===========================================================================</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>2.&nbsp;接入代理服务&nbsp;proxy</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>a.&nbsp;修改配置文件</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>b.&nbsp;配置防火墙，vim&nbsp;/etc/sysconfig/iptables&nbsp;加入一条（以端口号&nbsp;12306&nbsp;为例）</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>-A&nbsp;INPUT&nbsp;-p&nbsp;tcp&nbsp;-m&nbsp;state&nbsp;--state&nbsp;NEW&nbsp;-m&nbsp;tcp&nbsp;--dport&nbsp;12306&nbsp;-j&nbsp;ACCEPT</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>c.&nbsp;启动服务</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>./proxy&nbsp;-d&nbsp;-w&nbsp;--conf&nbsp;default.conf</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>===========================================================================</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>3.&nbsp;网关日志服务&nbsp;logger</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>a.&nbsp;修改配置文件，最小配置只需要修改监听的端口号（listen_port）</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>注意：由于中控插件上传日志时，作为&nbsp;logger&nbsp;的客户端，因此，监听的端口</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>号需要与中控插件配置的日志服务器端口对应。</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>b.&nbsp;配置防火墙，vim&nbsp;/etc/sysconfig/iptables&nbsp;加入一条（以端口号&nbsp;10998&nbsp;为例）</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>-A&nbsp;INPUT&nbsp;-p&nbsp;tcp&nbsp;-m&nbsp;state&nbsp;--state&nbsp;NEW&nbsp;-m&nbsp;tcp&nbsp;--dport&nbsp;10998&nbsp;-j&nbsp;ACCEPT</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>c.&nbsp;启动服务</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>./logger&nbsp;-d&nbsp;-w&nbsp;--conf&nbsp;default.conf</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span class="syntax--keyword syntax--control syntax--heredoc-token syntax--shell"><span>EOF</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>cp&nbsp;-rP&nbsp;INSTALL&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>PKGNAME</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>rm&nbsp;-rf&nbsp;INSTALL</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>[INFO]&nbsp;generating&nbsp;README.md&nbsp;...</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>cat&nbsp;</span><span class="syntax--keyword syntax--operator syntax--redirect syntax--shell"><span>&gt;</span></span><span>&nbsp;README.md&nbsp;</span><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span class="syntax--keyword syntax--operator syntax--heredoc syntax--shell"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--heredoc-token syntax--shell"><span>EOF</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>===========================================================================</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>[ACCESS]</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>DESC:</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;xxx's&nbsp;access&nbsp;service,&nbsp;connecting&nbsp;gateway&nbsp;and&nbsp;cloud.</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>LIST:</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;access&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xxx's&nbsp;access&nbsp;service</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>Usage:</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;./access&nbsp;-h&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;show&nbsp;help</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>ATTENTION:</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;Do&nbsp;not&nbsp;forget&nbsp;to&nbsp;config&nbsp;iptables&nbsp;or&nbsp;firewall's&nbsp;in/out&nbsp;strategies&nbsp;in</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>order&nbsp;to&nbsp;ensure&nbsp;the&nbsp;forwarding&nbsp;client&nbsp;can&nbsp;access&nbsp;the&nbsp;listening&nbsp;port.</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>===========================================================================</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>[PROXY]</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>DESC:</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;xxx's&nbsp;access&nbsp;proxy&nbsp;service,&nbsp;assigning&nbsp;access&nbsp;service&nbsp;instances&nbsp;to</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>gateway.</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>LIST:</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;proxy&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xxx's&nbsp;access&nbsp;proxy&nbsp;service</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;client&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fetch&nbsp;an&nbsp;access&nbsp;instance&nbsp;by&nbsp;sending&nbsp;a&nbsp;request</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>Usage:</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;./proxy&nbsp;-h&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;show&nbsp;help</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>ATTENTION:</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;Do&nbsp;not&nbsp;forget&nbsp;to&nbsp;config&nbsp;iptables&nbsp;or&nbsp;firewall's&nbsp;in/out&nbsp;strategies&nbsp;in</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>order&nbsp;to&nbsp;ensure&nbsp;the&nbsp;forwarding&nbsp;client&nbsp;can&nbsp;access&nbsp;the&nbsp;listening&nbsp;port.</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>===========================================================================</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>[LOGGER]</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>DESC:</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;xxx's&nbsp;logger&nbsp;server&nbsp;for&nbsp;HuaWei&nbsp;gateway</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>LIST:</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;logger&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xxx's&nbsp;logger&nbsp;server</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;client&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;test&nbsp;logger&nbsp;server's&nbsp;health&nbsp;by&nbsp;sending&nbsp;'helloworld'</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>Usage:</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;./logger&nbsp;-h&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;show&nbsp;help</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;logger&nbsp;is&nbsp;running,&nbsp;you&nbsp;can&nbsp;run&nbsp;client&nbsp;to&nbsp;test.&nbsp;For&nbsp;example,&nbsp;logger</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>is&nbsp;running&nbsp;on&nbsp;host&nbsp;192.168.1.1,&nbsp;listening&nbsp;on&nbsp;port&nbsp;10998,&nbsp;run</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>./client&nbsp;192.168.1.1&nbsp;10998&nbsp;to&nbsp;test&nbsp;whether&nbsp;the&nbsp;logger&nbsp;service&nbsp;is&nbsp;working.</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>ATTENTION:</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;Do&nbsp;not&nbsp;forget&nbsp;to&nbsp;config&nbsp;iptables&nbsp;or&nbsp;firewall's&nbsp;in/out&nbsp;strategies&nbsp;in</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>order&nbsp;to&nbsp;ensure&nbsp;the&nbsp;forwarding&nbsp;client&nbsp;can&nbsp;access&nbsp;the&nbsp;listening&nbsp;port.</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span class="syntax--keyword syntax--control syntax--heredoc-token syntax--shell"><span>EOF</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>cp&nbsp;-rP&nbsp;README.md&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>PKGNAME</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>rm&nbsp;-rf&nbsp;README.md</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>[INFO]&nbsp;archiving&nbsp;all&nbsp;...</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>tar&nbsp;-czf&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>PKGNAME</span></span><span>.tar.gz&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>PKGNAME</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>[INFO]&nbsp;clean&nbsp;tmp&nbsp;files&nbsp;...</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>ls&nbsp;-d&nbsp;</span><span class="syntax--keyword syntax--operator syntax--glob syntax--shell"><span>*</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>&nbsp;grep&nbsp;-v&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>make_release.sh\|</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>PKGNAME</span></span><span>.tar.gz</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>&nbsp;xargs&nbsp;rm&nbsp;-rf</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>[INFO]&nbsp;==========================================</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>[INFO]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Congratulations,&nbsp;all&nbsp;is&nbsp;done</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>[INFO]&nbsp;==========================================</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>exit</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--special syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>?</span></span></span>
</div></pre>
<h1>openssl 自签证书</h1>
<h3>初始化 CA init_ca.sh</h3>
<pre class="editor-colors lang-bash"><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shebang syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shebang syntax--shell"><span>#!</span></span><span>/bin/sh</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;-e&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>\e[1;33m===============================================\e[0m</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;-e&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>\e[1;33mFunction:&nbsp;construct&nbsp;your&nbsp;own&nbsp;private&nbsp;CA.\e[0m</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;-e&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>\e[1;33mSupported&nbsp;OS:&nbsp;CentOS&nbsp;6.8\e[0m</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;-e&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>\e[1;33m===============================================\e[0m</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;check&nbsp;root&nbsp;permission</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>if</span></span><span>&nbsp;</span><span class="syntax--meta syntax--scope syntax--logical-expression syntax--shell"><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>[</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>UID</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--shell"><span>-ne</span></span><span>&nbsp;0&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>]</span></span></span><span class="syntax--keyword syntax--operator syntax--list syntax--shell"><span>;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>then</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;-e&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>\e[1;31m[Failed]&nbsp;superuser&nbsp;privileges&nbsp;are&nbsp;required\e[0m</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>exit</span></span><span>&nbsp;1</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>else</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;-e&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>\e[1;32m[Passed]&nbsp;superuser&nbsp;privileges&nbsp;meeted\e[0m</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>fi</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>if</span></span><span>&nbsp;</span><span class="syntax--meta syntax--scope syntax--logical-expression syntax--shell"><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>[</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--shell"><span>-e</span></span><span>&nbsp;/etc/pki/CA/cacert.pem&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>]</span></span></span><span class="syntax--keyword syntax--operator syntax--list syntax--shell"><span>;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>then</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;-e&nbsp;-n&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>\e[1;31m[WARN]&nbsp;re-init&nbsp;CA?&nbsp;(Y/n)\e[0m</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--scope syntax--while-loop syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>while</span></span><span>&nbsp;</span><span class="syntax--meta syntax--scope syntax--logical-expression syntax--shell"><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>[</span></span><span>&nbsp;1&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>]</span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--meta syntax--scope syntax--while-loop syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>do</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--meta syntax--scope syntax--while-loop syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>read</span></span><span>&nbsp;Confirm</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--meta syntax--scope syntax--while-loop syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>if</span></span><span>&nbsp;</span><span class="syntax--meta syntax--scope syntax--logical-expression syntax--shell"><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>[</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>Confirm</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span><span>x&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--shell"><span>=</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>Y</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span><span>x&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--shell"><span>-o</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>Confirm</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span><span>x&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--shell"><span>=</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>y</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span><span>x&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>]</span></span></span><span class="syntax--keyword syntax--operator syntax--list syntax--shell"><span>;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>then</span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--meta syntax--scope syntax--while-loop syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;-e&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>\e[1;33m[INFO]&nbsp;start&nbsp;to&nbsp;re-init&nbsp;CA\e[0m</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--meta syntax--scope syntax--while-loop syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>break</span></span><span class="syntax--keyword syntax--operator syntax--list syntax--shell"><span>;</span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--meta syntax--scope syntax--while-loop syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>elif</span></span><span>&nbsp;</span><span class="syntax--meta syntax--scope syntax--logical-expression syntax--shell"><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>[</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>Confirm</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span><span>x&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--shell"><span>=</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>n</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span><span>x&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>]</span></span></span><span class="syntax--keyword syntax--operator syntax--list syntax--shell"><span>;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>then</span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--meta syntax--scope syntax--while-loop syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>exit</span></span><span>&nbsp;1</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--meta syntax--scope syntax--while-loop syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>else</span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--meta syntax--scope syntax--while-loop syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;-e&nbsp;-n&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>\e[1;31m[ERROR]&nbsp;invalid&nbsp;option,&nbsp;re-init&nbsp;CA?&nbsp;(Y/n)\e[0m</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--meta syntax--scope syntax--while-loop syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>continue</span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--meta syntax--scope syntax--while-loop syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>fi</span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--meta syntax--scope syntax--while-loop syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>done</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>fi</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>OS=</span><span class="syntax--string syntax--interpolated syntax--backtick syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>`</span></span><span>cat&nbsp;/etc/redhat-release&nbsp;</span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>&nbsp;awk&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>'</span></span><span>{print&nbsp;$1&nbsp;"&nbsp;"&nbsp;$3}</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>'</span></span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>`</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>SupportedOS=</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>CentOS&nbsp;6.8</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>if</span></span><span>&nbsp;</span><span class="syntax--meta syntax--scope syntax--logical-expression syntax--shell"><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>[</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>OS</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span><span>x&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--shell"><span>=</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>SupportedOS</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span><span>x&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>]</span></span></span><span class="syntax--keyword syntax--operator syntax--list syntax--shell"><span>;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>then</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;-e&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>\e[1;32m[Passed]&nbsp;OS:&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>OS</span></span><span>\e[0m</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>else</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;-e&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>\e[1;31m[Failed]&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>SupportedOS</span></span><span>&nbsp;supported&nbsp;only\e[0m</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>exit</span></span><span>&nbsp;1</span><span class="syntax--keyword syntax--operator syntax--list syntax--shell"><span>;</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>fi</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;install&nbsp;openssl</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>Found=</span><span class="syntax--string syntax--interpolated syntax--backtick syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>`</span></span><span>openssl&nbsp;version&nbsp;</span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>&nbsp;grep&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>command&nbsp;not&nbsp;found</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>`</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>if</span></span><span>&nbsp;</span><span class="syntax--meta syntax--scope syntax--logical-expression syntax--shell"><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>[</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--shell"><span>-n</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>Found</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>]</span></span></span><span class="syntax--keyword syntax--operator syntax--list syntax--shell"><span>;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>then</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;-e&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>\e[1;33m[INFO]&nbsp;openssl&nbsp;installed\e[0m</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>else</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;-e&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>\e[1;33m[INFO]&nbsp;install&nbsp;openssl\e[0m</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;yum&nbsp;install&nbsp;openssl&nbsp;-y&nbsp;</span><span class="syntax--keyword syntax--operator syntax--redirect syntax--shell"><span>&gt;</span></span><span>&nbsp;/dev/null</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>fi</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;-e&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>\e[1;33m[INFO]&nbsp;generate&nbsp;CA's&nbsp;private&nbsp;key\e[0m</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--subshell syntax--shell"><span class="syntax--punctuation syntax--definition syntax--subshell syntax--shell"><span>(</span></span><span>umask&nbsp;077</span><span class="syntax--keyword syntax--operator syntax--list syntax--shell"><span>;</span></span><span>&nbsp;openssl&nbsp;genrsa&nbsp;-out&nbsp;/etc/pki/CA/private/cakey.pem&nbsp;2048</span><span class="syntax--punctuation syntax--definition syntax--subshell syntax--shell"><span>)</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;-e&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>\e[1;33m[INFO]&nbsp;generate&nbsp;CACert\e[0m</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>cat&nbsp;</span><span class="syntax--keyword syntax--operator syntax--redirect syntax--shell"><span>&gt;</span></span><span>&nbsp;gen_cert.exp&nbsp;</span><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span class="syntax--keyword syntax--operator syntax--heredoc syntax--shell"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--heredoc-token syntax--shell"><span>EOF</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>#!/usr/bin/expect&nbsp;-f</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>set&nbsp;timeout&nbsp;30</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>spawn&nbsp;openssl&nbsp;req&nbsp;-new&nbsp;-x509&nbsp;-key&nbsp;/etc/pki/CA/private/cakey.pem&nbsp;-out&nbsp;\</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>/etc/pki/CA/cacert.pem&nbsp;-days&nbsp;3655</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>expect&nbsp;{</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;"Country&nbsp;Name&nbsp;(2&nbsp;letter&nbsp;code)"&nbsp;{</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;send&nbsp;"cn\r";</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exp_continue</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;"State&nbsp;or&nbsp;Province&nbsp;Name&nbsp;(full&nbsp;name)"&nbsp;{</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;send&nbsp;"Guang&nbsp;Dong\r";</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exp_continue</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;"Locality&nbsp;Name&nbsp;(eg,&nbsp;city)"&nbsp;{</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;send&nbsp;"Shen&nbsp;Zhen\r";</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exp_continue</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;"Organization&nbsp;Name&nbsp;(eg,&nbsp;company)"&nbsp;{</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;send&nbsp;"XXX&nbsp;Tech&nbsp;Ltd.\r";</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exp_continue</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;"Organizational&nbsp;Unit&nbsp;Name&nbsp;(eg,&nbsp;section)"&nbsp;{</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;send&nbsp;"XXX's&nbsp;CA\r";</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exp_continue</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;"Common&nbsp;Name&nbsp;(eg,&nbsp;your&nbsp;name&nbsp;or&nbsp;your&nbsp;server's&nbsp;hostname)"&nbsp;{</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;send&nbsp;"xxx.cn\r";</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exp_continue</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;"Email&nbsp;Address"&nbsp;{</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;send&nbsp;"cloud@xxx.cn\r";</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exp_continue</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>}</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span class="syntax--keyword syntax--control syntax--heredoc-token syntax--shell"><span>EOF</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>chmod&nbsp;+x&nbsp;gen_cert.exp</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>./gen_cert.exp</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>rm&nbsp;-rf&nbsp;gen_cert.exp</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;-e&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>\e[1;33m[INFO]&nbsp;CACert's&nbsp;information&nbsp;in&nbsp;detail:\e[0m</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>openssl&nbsp;x509&nbsp;-noout&nbsp;-text&nbsp;-in&nbsp;/etc/pki/CA/cacert.pem</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;-e&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>\e[1;33m[INFO]&nbsp;Verify&nbsp;CACert's&nbsp;invalidism\e[0m</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>openssl&nbsp;verify&nbsp;/etc/pki/CA/cacert.pem</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;-e&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>\e[1;33m[INFO]&nbsp;init&nbsp;CA's&nbsp;serial\e[0m</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>touch&nbsp;/etc/pki/CA/{index.txt,serial}</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;01&nbsp;</span><span class="syntax--keyword syntax--operator syntax--redirect syntax--shell"><span>&gt;</span></span><span>&nbsp;/etc/pki/CA/serial</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;-e&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>\e[1;33m[INFO]&nbsp;Congratulations!&nbsp;Everything&nbsp;is&nbsp;done.\e[0m</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span>
</div></pre>
<h3>颁发证书 gen_cert.sh</h3>
<pre class="editor-colors lang-bash"><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shebang syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shebang syntax--shell"><span>#!</span></span><span>/bin/sh</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;check&nbsp;root&nbsp;permission</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--function syntax--shell"><span class="syntax--entity syntax--name syntax--function syntax--shell"><span>validate_superuser</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--shell"><span>()</span></span><span>&nbsp;</span><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span class="syntax--punctuation syntax--definition syntax--group syntax--shell"><span>{</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--function syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>if</span></span><span>&nbsp;</span><span class="syntax--meta syntax--scope syntax--logical-expression syntax--shell"><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>[</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>UID</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--shell"><span>-ne</span></span><span>&nbsp;0&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>]</span></span></span><span class="syntax--keyword syntax--operator syntax--list syntax--shell"><span>;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>then</span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--function syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;-e&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>\e[1;31m[Failed]&nbsp;superuser&nbsp;privileges&nbsp;are&nbsp;required\e[0m</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--function syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>exit</span></span><span>&nbsp;1</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--function syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>else</span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--function syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;-e&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>\e[1;32m[Passed]&nbsp;superuser&nbsp;privileges&nbsp;meeted\e[0m</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--function syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>fi</span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--function syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span class="syntax--punctuation syntax--definition syntax--group syntax--shell"><span>}</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--function syntax--shell"><span class="syntax--entity syntax--name syntax--function syntax--shell"><span>usage</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--shell"><span>()</span></span><span>&nbsp;</span><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span class="syntax--punctuation syntax--definition syntax--group syntax--shell"><span>{</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--function syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;-e&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>\e[1;31mUsage:&nbsp;</span><span class="syntax--variable syntax--other syntax--special syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>0</span></span><span>&nbsp;&lt;organization&gt;&nbsp;&lt;number&gt;\e[0m</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--function syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;-e&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>\e[1;33mOption:\e[0m</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--function syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;-e&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>\e[1;33m&nbsp;&nbsp;&nbsp;&nbsp;Organization&nbsp;&nbsp;&nbsp;for&nbsp;example,&nbsp;Gateway&nbsp;or&nbsp;Access\e[0m</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--function syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;-e&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>\e[1;33m&nbsp;&nbsp;&nbsp;&nbsp;number&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[1,&nbsp;9999]&nbsp;number&nbsp;of&nbsp;certification(s)&nbsp;</span><span class="syntax--constant syntax--character syntax--escape syntax--shell"><span>\</span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--function syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span>generated&nbsp;in&nbsp;batch\e[0m</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--function syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span class="syntax--punctuation syntax--definition syntax--group syntax--shell"><span>}</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--function syntax--shell"><span class="syntax--entity syntax--name syntax--function syntax--shell"><span>introduction</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--shell"><span>()</span></span><span>&nbsp;</span><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span class="syntax--punctuation syntax--definition syntax--group syntax--shell"><span>{</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--function syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--function syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;-e&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>\e[1;33m====================================================\e[0m</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--function syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;-e&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>\e[1;33mFunction:&nbsp;Issue&nbsp;Certification.\e[0m</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--function syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;-e&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>\e[1;33mSupported&nbsp;OS:&nbsp;CentOS&nbsp;6.8\e[0m</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--function syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;-e&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>\e[1;33m====================================================\e[0m</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--function syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--function syntax--shell"><span class="syntax--meta syntax--scope syntax--group syntax--shell"><span class="syntax--punctuation syntax--definition syntax--group syntax--shell"><span>}</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>if</span></span><span>&nbsp;</span><span class="syntax--meta syntax--scope syntax--logical-expression syntax--shell"><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>[</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--special syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>#</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--shell"><span>-ne</span></span><span>&nbsp;2&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>]</span></span></span><span class="syntax--keyword syntax--operator syntax--list syntax--shell"><span>;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>then</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;usage</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>exit</span></span><span>&nbsp;1</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>else</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--positional syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>2</span></span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>grep&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>^[1-9][0-9]\{0,3\}$</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--redirect syntax--shell"><span>&gt;</span></span><span>&nbsp;/dev/null</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>if</span></span><span>&nbsp;</span><span class="syntax--meta syntax--scope syntax--logical-expression syntax--shell"><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>[</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--special syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>?</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--shell"><span>-ne</span></span><span>&nbsp;0&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>]</span></span></span><span class="syntax--keyword syntax--operator syntax--list syntax--shell"><span>;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>then</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;usage</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;-e&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>\e[1;31m[ERROR]&nbsp;ARGUMENT&nbsp;INVALID\e[0m</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>exit</span></span><span>&nbsp;1</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>fi</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>fi</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>validate_superuser</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>introduction</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>if</span></span><span>&nbsp;</span><span class="syntax--meta syntax--scope syntax--logical-expression syntax--shell"><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>[</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--shell"><span>-e</span></span><span>&nbsp;/etc/pki/CA/cacert.pem&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>]</span></span></span><span class="syntax--keyword syntax--operator syntax--list syntax--shell"><span>;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>then</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;-e&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>\e[1;33m[INFO]&nbsp;start&nbsp;to&nbsp;issue&nbsp;certification\e[0m</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>else</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>exit</span></span><span>&nbsp;1</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>fi</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>OS=</span><span class="syntax--string syntax--interpolated syntax--backtick syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>`</span></span><span>cat&nbsp;/etc/redhat-release&nbsp;</span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>&nbsp;awk&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>'</span></span><span>{print&nbsp;$1&nbsp;"&nbsp;"&nbsp;$3}</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>'</span></span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>`</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>SupportedOS=</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>CentOS&nbsp;6.8</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>if</span></span><span>&nbsp;</span><span class="syntax--meta syntax--scope syntax--logical-expression syntax--shell"><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>[</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>OS</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span><span>x&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--shell"><span>=</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>SupportedOS</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span><span>x&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>]</span></span></span><span class="syntax--keyword syntax--operator syntax--list syntax--shell"><span>;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>then</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;-e&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>\e[1;32m[Passed]&nbsp;OS:&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>OS</span></span><span>\e[0m</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>else</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;-e&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>\e[1;31m[Failed]&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>SupportedOS</span></span><span>&nbsp;supported&nbsp;only\e[0m</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>exit</span></span><span>&nbsp;1</span><span class="syntax--keyword syntax--operator syntax--list syntax--shell"><span>;</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>fi</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;install&nbsp;openssl</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>Found=</span><span class="syntax--string syntax--interpolated syntax--backtick syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>`</span></span><span>openssl&nbsp;version&nbsp;</span><span class="syntax--keyword syntax--operator syntax--pipe syntax--shell"><span>|</span></span><span>&nbsp;grep&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>command&nbsp;not&nbsp;found</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>`</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>if</span></span><span>&nbsp;</span><span class="syntax--meta syntax--scope syntax--logical-expression syntax--shell"><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>[</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--shell"><span>-n</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>Found</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--logical-expression syntax--shell"><span>]</span></span></span><span class="syntax--keyword syntax--operator syntax--list syntax--shell"><span>;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>then</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;-e&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>\e[1;33m[INFO]&nbsp;openssl&nbsp;installed\e[0m</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>else</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;-e&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>\e[1;33m[INFO]&nbsp;install&nbsp;openssl\e[0m</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;yum&nbsp;install&nbsp;openssl&nbsp;-y&nbsp;</span><span class="syntax--keyword syntax--operator syntax--redirect syntax--shell"><span>&gt;</span></span><span>&nbsp;/dev/null</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--if-block syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>fi</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>mkdir&nbsp;-p&nbsp;cert</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>rm&nbsp;-rf&nbsp;cert/</span><span class="syntax--keyword syntax--operator syntax--glob syntax--shell"><span>*</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>for</span></span><span>&nbsp;</span><span class="syntax--string syntax--other syntax--math syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>((</span></span><span>count</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--shell"><span>=</span></span><span class="syntax--constant syntax--numeric syntax--integer syntax--shell"><span>1</span></span><span>;&nbsp;count&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--shell"><span>&lt;=</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--positional syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>2</span></span><span>;&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--shell"><span>++</span></span><span>&nbsp;count</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>))</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>do</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;-e&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>\e[1;33m[INFO]&nbsp;generate&nbsp;</span><span class="syntax--variable syntax--other syntax--positional syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>1</span></span><span>'s&nbsp;private&nbsp;key\e[0m</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--meta syntax--scope syntax--subshell syntax--shell"><span class="syntax--punctuation syntax--definition syntax--subshell syntax--shell"><span>(</span></span><span>umask&nbsp;077</span><span class="syntax--keyword syntax--operator syntax--list syntax--shell"><span>;</span></span><span>openssl&nbsp;genrsa&nbsp;-out&nbsp;./cert/</span><span class="syntax--variable syntax--other syntax--positional syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>1</span></span><span class="syntax--constant syntax--character syntax--escape syntax--shell"><span>\.</span></span><span>key&nbsp;2048</span><span class="syntax--punctuation syntax--definition syntax--subshell syntax--shell"><span>)</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;-e&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>\e[1;33m[INFO]&nbsp;generate&nbsp;</span><span class="syntax--variable syntax--other syntax--positional syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>1</span></span><span>'s&nbsp;Cert\e[0m</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span>cat&nbsp;/etc/pki/CA/index.txt&nbsp;</span><span class="syntax--keyword syntax--operator syntax--redirect syntax--shell"><span>&gt;&gt;</span></span><span>&nbsp;/etc/pki/CA/index.txt.bak</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span>cat&nbsp;/dev/null&nbsp;</span><span class="syntax--keyword syntax--operator syntax--redirect syntax--shell"><span>&gt;</span></span><span>&nbsp;/etc/pki/CA/index.txt</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span>cat&nbsp;</span><span class="syntax--keyword syntax--operator syntax--redirect syntax--shell"><span>&gt;</span></span><span>&nbsp;gen_cert.exp&nbsp;</span><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span class="syntax--keyword syntax--operator syntax--heredoc syntax--shell"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--heredoc-token syntax--shell"><span>EOF</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>#!/usr/bin/expect&nbsp;-f</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>set&nbsp;timeout&nbsp;30</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>spawn&nbsp;openssl&nbsp;req&nbsp;-new&nbsp;-key&nbsp;./cert/$1\.key&nbsp;-out&nbsp;./cert/$1\.csr</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>expect&nbsp;{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;"Country&nbsp;Name&nbsp;(2&nbsp;letter&nbsp;code)"&nbsp;{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;send&nbsp;"cn\r";</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exp_continue</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;"State&nbsp;or&nbsp;Province&nbsp;Name&nbsp;(full&nbsp;name)"&nbsp;{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;send&nbsp;"Guang&nbsp;Dong\r";</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exp_continue</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;"Locality&nbsp;Name&nbsp;(eg,&nbsp;city)"&nbsp;{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;send&nbsp;"Shen&nbsp;Zhen\r";</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exp_continue</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;"Organization&nbsp;Name&nbsp;(eg,&nbsp;company)"&nbsp;{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;send&nbsp;"xxx&nbsp;Tech&nbsp;Ltd.\r";</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exp_continue</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;"Organizational&nbsp;Unit&nbsp;Name&nbsp;(eg,&nbsp;section)"&nbsp;{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;send&nbsp;"$1\r";</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exp_continue</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;"Common&nbsp;Name&nbsp;(eg,&nbsp;your&nbsp;name&nbsp;or&nbsp;your&nbsp;server's&nbsp;hostname)"&nbsp;{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;send&nbsp;"xxx.cn\r";</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exp_continue</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;"Email&nbsp;Address"&nbsp;{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;send&nbsp;"cloud@xxx.cn\r";</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exp_continue</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;"A&nbsp;challenge&nbsp;password"&nbsp;{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;send&nbsp;"xxx666!\r";</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exp_continue</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;"An&nbsp;optional&nbsp;company&nbsp;name"&nbsp;{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;send&nbsp;"XXX&nbsp;Tech&nbsp;Ltd.\r";</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exp_continue</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span class="syntax--keyword syntax--control syntax--heredoc-token syntax--shell"><span>EOF</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span>chmod&nbsp;+x&nbsp;gen_cert.exp</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span>./gen_cert.exp</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;sign&nbsp;certification</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span>cat&nbsp;</span><span class="syntax--keyword syntax--operator syntax--redirect syntax--shell"><span>&gt;</span></span><span>&nbsp;sign_cert.exp&nbsp;</span><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span class="syntax--keyword syntax--operator syntax--heredoc syntax--shell"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--heredoc-token syntax--shell"><span>EOF</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>#!/usr/bin/expect&nbsp;-f</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>set&nbsp;timeout&nbsp;30</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>spawn&nbsp;openssl&nbsp;ca&nbsp;-in&nbsp;./cert/$1\.csr&nbsp;-out&nbsp;./cert/$1\.crt&nbsp;-days&nbsp;3655</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>expect&nbsp;{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;"Sign&nbsp;the&nbsp;certificate"&nbsp;{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;send&nbsp;"y\r";</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exp_continue</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;"1&nbsp;out&nbsp;of&nbsp;1&nbsp;certificate&nbsp;requests&nbsp;certified,&nbsp;commit"&nbsp;{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;send&nbsp;"y\r";</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exp_continue</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--string syntax--unquoted syntax--heredoc syntax--shell"><span class="syntax--keyword syntax--control syntax--heredoc-token syntax--shell"><span>EOF</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span>chmod&nbsp;+x&nbsp;sign_cert.exp</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span>./sign_cert.exp</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--meta syntax--scope syntax--subshell syntax--shell"><span class="syntax--punctuation syntax--definition syntax--subshell syntax--shell"><span>(</span></span><span>umask&nbsp;077</span><span class="syntax--keyword syntax--operator syntax--list syntax--shell"><span>;</span></span><span>touch&nbsp;./cert/</span><span class="syntax--variable syntax--other syntax--positional syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>1</span></span><span class="syntax--constant syntax--character syntax--escape syntax--shell"><span>\.</span></span><span>pem</span><span class="syntax--punctuation syntax--definition syntax--subshell syntax--shell"><span>)</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span>cat&nbsp;./cert/</span><span class="syntax--variable syntax--other syntax--positional syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>1</span></span><span class="syntax--constant syntax--character syntax--escape syntax--shell"><span>\.</span></span><span>crt&nbsp;</span><span class="syntax--keyword syntax--operator syntax--redirect syntax--shell"><span>&gt;&gt;</span></span><span>&nbsp;./cert/</span><span class="syntax--variable syntax--other syntax--positional syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>1</span></span><span class="syntax--constant syntax--character syntax--escape syntax--shell"><span>\.</span></span><span>pem</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span>cat&nbsp;./cert/</span><span class="syntax--variable syntax--other syntax--positional syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>1</span></span><span class="syntax--constant syntax--character syntax--escape syntax--shell"><span>\.</span></span><span>key&nbsp;</span><span class="syntax--keyword syntax--operator syntax--redirect syntax--shell"><span>&gt;&gt;</span></span><span>&nbsp;./cert/</span><span class="syntax--variable syntax--other syntax--positional syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>1</span></span><span class="syntax--constant syntax--character syntax--escape syntax--shell"><span>\.</span></span><span>pem</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span>openssl&nbsp;rsa&nbsp;-in&nbsp;./cert/</span><span class="syntax--variable syntax--other syntax--positional syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>1</span></span><span class="syntax--constant syntax--character syntax--escape syntax--shell"><span>\.</span></span><span>pem&nbsp;-pubout&nbsp;-out&nbsp;./cert/</span><span class="syntax--variable syntax--other syntax--positional syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>1</span></span><span class="syntax--constant syntax--character syntax--escape syntax--shell"><span>\.</span></span><span>pub</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--comment syntax--line syntax--number-sign syntax--shell"><span class="syntax--punctuation syntax--definition syntax--comment syntax--shell"><span>#</span></span><span>&nbsp;rename</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>cd</span></span><span>&nbsp;cert&nbsp;</span><span class="syntax--keyword syntax--operator syntax--redirect syntax--shell"><span>&gt;</span></span><span>&nbsp;/dev/null</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span>rm&nbsp;-rf&nbsp;</span><span class="syntax--variable syntax--other syntax--positional syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>1</span></span><span class="syntax--constant syntax--character syntax--escape syntax--shell"><span>\.</span></span><span>csr</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>for</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--loop syntax--shell"><span>file</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--shell"><span>in</span></span><span>&nbsp;</span><span class="syntax--string syntax--interpolated syntax--backtick syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>`</span></span><span>ls&nbsp;</span><span class="syntax--variable syntax--other syntax--positional syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>1</span></span><span class="syntax--constant syntax--character syntax--escape syntax--shell"><span>\.</span></span><span class="syntax--keyword syntax--operator syntax--glob syntax--shell"><span>*</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>`</span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>do</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span>&nbsp;&nbsp;&nbsp;&nbsp;mv&nbsp;</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>file</span></span><span>&nbsp;</span><span class="syntax--string syntax--interpolated syntax--backtick syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>`</span></span><span>echo&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>count</span></span><span>-</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>file</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>`</span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--meta syntax--scope syntax--for-in-loop syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>done</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>cd</span></span><span>&nbsp;-&nbsp;</span><span class="syntax--keyword syntax--operator syntax--redirect syntax--shell"><span>&gt;</span></span><span>&nbsp;/dev/null</span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--meta syntax--scope syntax--for-loop syntax--shell"><span class="syntax--keyword syntax--control syntax--shell"><span>done</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>rm&nbsp;-rf&nbsp;gen_cert.exp</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>rm&nbsp;-rf&nbsp;sign_cert.exp</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;-e&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>\e[1;33m[INFO]&nbsp;Total:&nbsp;</span><span class="syntax--variable syntax--other syntax--positional syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>2</span></span><span>&nbsp;certification(s).\e[0m</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;-e&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>\e[1;33m[INFO]&nbsp;Output&nbsp;Directory:&nbsp;./cert\e[0m</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>echo</span></span><span>&nbsp;-e&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--shell"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell"><span>"</span></span><span>\e[1;33m[INFO]&nbsp;Congratulations!&nbsp;Everything&nbsp;is&nbsp;done.\e[0m</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell"><span>"</span></span></span></span>
</div></pre></body>
</html>
